<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Thành viên lớp DK60</title>
    <style>
        /* === Styles chung === */
        :root {
            --bg-transparent-light: rgba(255, 255, 255, 0.7);
            --bg-transparent-darker: rgba(255, 255, 255, 0.85);
            --text-color: #333;
            --link-color: #1a73e8;
            --border-color-light: rgba(0,0,0,0.1);
            --border-color-dark: rgba(0,0,0,0.7);
            --shadow-light: 0 4px 10px rgba(0,0,0,0.1);
            --shadow-medium: 0 5px 20px rgba(0,0,0,0.2);
            --shadow-dark: 0 8px 20px rgba(0,0,0,0.3);
            --teacher-border-color: red;
            --member-border-color: black;
        }

        body {
            font-family: Arial, sans-serif; /* Font chữ chính */
            background-color: #f4f4f4; /* Màu nền dự phòng */
            color: var(--text-color);
            margin: 0; /* Xóa margin mặc định */
            padding: 20px;
            background-image: url('bg.png'); /* Ảnh nền */
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-position: center;
            transition: background-position 0.1s ease, opacity 0.6s ease-in-out; /* Hiệu ứng cho nền và fade */
            opacity: 0; /* Bắt đầu ẩn để tạo hiệu ứng fade-in */
        }

        body.fade-in {
            opacity: 1; /* Hiển thị trang */
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
            border-radius: 10px; /* Bo góc chung cho ảnh */
        }

        a {
            color: var(--link-color);
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }

    /* Header, Nav, Footer */
    header {
      background-color: rgba(255, 255, 255, 0.7);
      color: #333; /* Adjusted color for better visibility on light background */
      text-align: center;
      padding: 20px;
      border-radius: 8px; /* Added some rounding */
      margin-bottom: 20px; /* Added space below header */
    }

    nav {
      background-color: rgba(255, 255, 255, 0.7);
      padding: 10px;
      border-radius: 8px; /* Added some rounding */
      margin-bottom: 20px; /* Added space below nav */
    }

    nav ul {
      list-style: none;
      display: flex;
      justify-content: center;
      margin: 0;
      padding: 0;
      gap: 20px;
    }

    nav ul li a {
      color: #333; /* Adjusted color for better visibility */
      text-decoration: none;
      font-weight: bold;
      padding: 5px 10px; /* Added padding for better click area */
      border-radius: 4px; /* Slight rounding for links */
      transition: background-color 0.3s;
    }
    nav ul li a:hover {
        background-color: rgba(0, 0, 0, 0.1); /* Subtle hover effect */
    }

    footer {
        background-color: rgba(255, 255, 255, 0.7);
        color: #333; /* Adjusted color */
        text-align: center;
        padding: 10px;
        margin-top: 20px;
        border-radius: 8px;
    }
    h2 { /* Style for the main heading below nav */
        text-align: center;
        color: #fff; /* White text for better contrast on background image */
        text-shadow: 1px 1px 3px rgba(0,0,0,0.7); /* Add shadow for readability */
        margin: 30px 0;
    }
        /* === Nút xem danh sách theo tổ === */
        #viewAllBtn {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 999; /* Luôn nổi lên trên */
            padding: 10px 20px;
            font-size: 14px;
            font-weight: bold;
            background: rgba(255, 255, 255, 0.25);
            color: var(--text-color);
            border: 2px solid rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(8px); /* Hiệu ứng kính mờ */
            border-radius: 12px;
            box-shadow: var(--shadow-light);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        #viewAllBtn:hover {
            background: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px); /* Nhấc nhẹ lên khi hover */
        }

        /* === Khu vực giáo viên === */
        .teacher-section { /* Đổi tên class từ .Teacher */
            max-width: 600px; /* Giảm độ rộng tối đa */
            margin: 40px auto; /* Tăng khoảng cách trên dưới */
            display: flex; /* Sử dụng flexbox cho layout */
            justify-content: left;
            align-items: center; /* Căn giữa theo chiều dọc */
            gap: 30px;
            padding: 25px 40px;
            background-color: var(--bg-transparent-light);
            border-radius: 12px;
            border: 4px solid var(--teacher-border-color);
            box-shadow: var(--shadow-medium);
        }

        .teacher-section img.profile { /* Áp dụng class profile cho ảnh GV */
            width: 180px; /* Kích thước ảnh cố định */
            height: 240px;
            object-fit: cover;
            border-radius: 10px;
            border: 4px double #e91e63; /* Giữ lại viền hồng */
            cursor: pointer; /* Thêm con trỏ */
        }

        .teacher-section .info h3 { /* Tên cô*/
            margin: 0 0 10px;
            font-size: 20px;
			color: #CC0000;
            cursor: pointer; /* Thêm con trỏ */
        }
         .teacher-section .info p {
            margin: 5px 0; /* Giảm khoảng cách giữa các dòng p */
         }


        /* === Grid hiển thị các tổ === */
        .team-grid { /* Đổi tên class từ .to-grid */
            display: grid;
            grid-template-columns: 1fr 1fr; /* Cho phép các cột co giãn */
            gap: 30px;
            padding: 0 20px; /* Thêm padding ngang */
            max-width: 1200px; /* Giới hạn chiều rộng tối đa */
            margin: 40px auto; /* Căn giữa grid */
        }

        .team-box { /* Đổi tên class từ .to-box */
            border: 3px solid #ccc;
            border-radius: 12px;
            padding: 20px;
            background: var(--bg-transparent-light);
            box-shadow: var(--shadow-light);
            display: flex; /* Dùng flexbox để dễ quản lý member */
            flex-direction: column; /* Các member xếp dọc */
            gap: 10px; /* Khoảng cách giữa các member */
        }

        .team-box h3 {
            margin-top: 0;
            margin-bottom: 15px;
            text-align: center;
            color: #444;
        }

        /* === Thẻ thành viên === */
        .member {
            background-color: rgba(255, 255, 255, 0.9); /* Nền sáng hơn một chút */
            padding: 15px;
            border-radius: 10px;
            border: 2px solid var(--member-border-color); /* Viền mỏng hơn */
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s; /* Thêm transition cho shadow */
        }

        .member:hover {
            transform: scale(1.03); /* Hiệu ứng phóng to lên */
            box-shadow: var(--shadow-dark);
        }

        .member img.profile {
            width: 100%;
            height: auto; /* Chiều cao tự động */
            object-fit: cover; /* Đảm bảo ảnh không bị méo */
            border-radius: 8px; /* Bo góc nhẹ */
            border: 3px double var(--member-border-color);
            margin-bottom: 10px;
            cursor: pointer; /* Thêm con trỏ */
             animation: fadeZoom 0.6s ease-in-out both; /* Giữ lại animation */
        }

        .member p { /* Định dạng cho quote */
            font-style: italic;
            color: #555;
            font-size: 14px;
            margin: 0; /* Xóa margin mặc định */
            line-height: 1.4; /* Tăng khoảng cách dòng */
        }

         @keyframes fadeZoom {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
         }

        /* === Khu vực xem chi tiết thành viên === */
        #memberDetailView {
            background-color: var(--bg-transparent-darker);
            padding: 40px; /* Tăng padding */
            border-radius: 15px;
            margin: 40px auto;
            max-width: 900px; /* Tăng max-width */
            box-shadow: var(--shadow-medium);
            /* display: none; Thuộc tính này sẽ được set bằng JS */
        }

        #backToListBtn {
            padding: 10px 18px;
            margin-bottom: 25px;
            cursor: pointer;
            background-color: #eee;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        #backToListBtn:hover {
            background-color: #ddd;
        }

        .detail-content-wrapper { /* Bao bọc nội dung chi tiết */
            display: flex;
            flex-wrap: wrap; /* Cho phép xuống dòng trên màn hình nhỏ */
            gap: 40px; /* Tăng khoảng cách */
            align-items: flex-start; /* Căn theo đỉnh */
        }

        .detail-image-column { /* Cột chứa ảnh */
            flex: 1 1 300px; /* Linh hoạt nhưng có kích thước cơ bản */
            min-width: 250px; /* Độ rộng tối thiểu */
        }

        #detailImage {
            width: 100%;
            border-radius: 10px;
            box-shadow: var(--shadow-light);
            border: 4px solid #555; /* Thêm viền cho ảnh chi tiết */
        }

        .detail-info-column { /* Cột chứa thông tin */
            flex: 2 1 450px; /* Chiếm nhiều không gian hơn */
        }

        #detailName {
            margin-top: 0;
            margin-bottom: 15px; /* Tăng khoảng cách dưới tên */
            font-size: 28px; /* Tăng cỡ chữ tên */
            color: #222;
        }

        .detail-info-column p, .detail-info-column h4 {
            margin: 8px 0; /* Khoảng cách đều */
            line-height: 1.6; /* Tăng khoảng cách dòng */
        }
        .detail-info-column p strong {
            min-width: 100px; /* Đảm bảo các label thẳng hàng */
            display: inline-block;
        }

        .detail-info-column h4 {
            margin-top: 20px; /* Khoảng cách trước các tiêu đề phụ */
            color: #444;
            border-bottom: 1px solid #ddd; /* Thêm đường kẻ dưới */
            padding-bottom: 5px;
        }

        #detailMemory {
            font-style: italic;
            border-left: 4px solid var(--link-color); /* Viền trái nổi bật hơn */
            padding-left: 15px;
            margin-top: 10px;
            color: #555;
        }


        /* === Popup xem danh sách theo tổ === */
        #selectOverlay {
            /* display: none; Được điều khiển bởi JS */
            position: fixed;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            background: rgba(0,0,0,0.6); /* Tối hơn chút */
            z-index: 10000;
            display: flex; /* Dùng flex để căn giữa */
            justify-content: center;
            align-items: center;
            animation: popupShow 0.4s ease forwards; /* Giữ lại animation */
        }

        #selectOverlay > div { /* Content của popup */
            background: rgba(255, 255, 255, 0.9); /* Nền sáng hơn */
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: 16px; /* Bo góc nhiều hơn */
            max-width: 700px !important; /* Giữ lại !important nếu cần ghi đè */
            width: 90%; /* Chiếm 90% chiều rộng */
            max-height: 90vh; /* Chiều cao tối đa */
            overflow-y: auto; /* Cho phép cuộn nếu nội dung dài */
            box-shadow: 0 8px 30px rgba(0,0,0,0.25);
            position: relative;
        }

        #selectOverlay .close-btn { /* Nút đóng popup danh sách */
             position: absolute;
             top: 10px; right: 15px;
             font-size: 24px; /* To hơn */
             border: none;
             background: none;
             cursor: pointer;
             color: #888;
             padding: 5px; /* Vùng bấm lớn hơn */
             line-height: 1; /* Đảm bảo nút X căn giữa */
        }
        #selectOverlay .close-btn:hover{
            color: #333;
        }

        #selectOverlay h2 {
            text-align: center;
            font-size: 20px;
            margin-top: 0; /* Xóa margin top */
            margin-bottom: 20px;
            color: #222;
        }

    /* Member List Popup (Inside Select Overlay) - Consolidated */
    #memberListPopup {
      display: grid;
      grid-template-columns: 1fr 1fr; /* Responsive columns */
      gap: 20px;
      padding: 0; /* Remove padding, handled by parent */
      margin-top: 0; /* Remove margin */
      font-size:16px;
      color:#333;
    }
     #memberListPopup .teacher-select-box { /* Special box for teacher */
         grid-column: 1 / -1; /* Span full width */
         text-align: center;
         margin-bottom: 20px;
         padding: 15px;
         background: rgba(0,0,0,0.03);
         border-radius: 10px;
         cursor: pointer;
         transition: background-color 0.3s;
     }
      #memberListPopup .teacher-select-box:hover {
          background-color: rgba(0,0,0,0.07);
      }

      #memberListPopup .teacher-select-box img {
         width: 60px;
         height: 60px;
         border-radius: 50%;
         object-fit: cover;
         box-shadow: 0 0 6px rgba(0,0,0,0.3);
         margin: 0 auto 8px auto; /* Center image */
     }
      #memberListPopup .teacher-select-box div { /* Teacher name */
          font-weight: bold;
          color: #333;
      }


    #memberListPopup .to-box { /* Styling for the group boxes inside the popup */
      background: rgba(0,0,0,0.03); /* Subtle background */
      border-radius: 14px;
      padding: 0; /* Remove padding */
      box-shadow: none; /* Remove shadow */
      max-height: 350px; /* Increased height */
      overflow-y: auto;
      border: 1px solid rgba(0,0,0,0.08); /* Subtle border */
    }

    #memberListPopup .to-box h3 {
      text-align: center;
      margin: 0; /* Remove margin */
      padding: 12px; /* Add padding */
      font-size: 16px; /* Adjusted size */
      font-weight: bold;
      color: #fff; /* White text */
      border-radius: 14px 14px 0 0; /* Round top corners */
    }
    /* Apply specific colors */
     #memberListPopup .to-box.to-1 h3 { background-color: #f9c74f; color: #333; }
     #memberListPopup .to-box.to-2 h3 { background-color: #90be6d; }
     #memberListPopup .to-box.to-3 h3 { background-color: #577590; }
     #memberListPopup .to-box.to-4 h3 { background-color: #f94144; }


    #memberListPopup ul {
      list-style: none;
      padding: 10px; /* Add padding inside the list area */
      margin: 0; /* Reset margin */
    }


    #memberListPopup li {
      display: flex;
      align-items: center;
      gap: 10px; /* Consistent gap */
      margin: 0; /* Remove margin */
      padding: 8px 5px; /* Add padding */
      cursor: pointer;
      transition: background-color 0.2s ease, transform 0.2s ease; /* Combined transition */
      border-radius: 6px; /* Round corners for list item */
    }

    #memberListPopup li:hover {
      background-color: rgba(0,0,0,0.08); /* Hover background */
      transform: translateX(3px); /* Slight shift on hover */
    }

    #memberListPopup li img {
      width: 32px;
      height: 32px;
      object-fit: cover;
      border-radius: 50%;
      box-shadow: 0 0 4px rgba(0,0,0,0.2);
      flex-shrink: 0; /* Prevent image shrinking */
    }
     #memberListPopup li span { /* For the name text */
         flex-grow: 1; /* Allow name to take available space */
         font-size: 15px;
     }


        @keyframes popupShow {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }


        /* === Footer === */
        footer {
            color: #555;
            text-align: center;
            padding: 15px;
            margin-top: 40px; /* Tăng khoảng cách với nội dung trên */
            font-size: 14px;
        }


        /* === Responsive Styles === */

        /* --- Tablet (<= 992px) --- */
        @media (max-width: 992px) {
            .team-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); /* Điều chỉnh minmax */
                gap: 25px;
            }
             #memberDetailView {
                max-width: 95%; /* Chiếm gần hết chiều rộng */
                padding: 30px;
            }
            .detail-content-wrapper {
                gap: 30px; /* Giảm khoảng cách */
            }
        }


        /* --- Tablet & Large Mobile (<= 768px) --- */
        @media (max-width: 768px) {
            body {
                padding: 15px; /* Giảm padding body */
            }
            header, nav, footer {
                padding: 10px;
                margin-bottom: 15px;
            }
            nav ul {
                gap: 15px;
                flex-wrap: wrap; /* Cho phép xuống dòng nếu nav quá dài */
                justify-content: center;
            }

            /* Bố cục giáo viên trên tablet */
            .teacher-section {
                flex-direction: column; /* Chuyển thành cột */
                align-items: center;
                padding: 20px;
                text-align: center;
                max-width: 90%; /* Cho phép rộng hơn */
            }
            .teacher-section img.profile {
                 width: 150px; /* Giảm kích thước ảnh GV */
                 height: 200px;
                 margin-bottom: 15px; /* Thêm khoảng cách dưới ảnh */
            }

             /* Grid thành viên trên tablet */
            .team-grid {
                grid-template-columns: 1fr 1fr; /* Luôn là 2 cột */
                gap: 20px;
                padding: 0 10px;
            }
             .member img.profile {
                height: 220px; /* Giảm chiều cao ảnh thành viên */
             }

            /* Layout chi tiết thành viên trên tablet */
            #memberDetailView {
                padding: 25px;
            }
             /* --- IMPORTANT: Stack image and info vertically --- */
             .detail-content-wrapper {
                 flex-direction: column; /* Xếp ảnh và thông tin theo chiều dọc */
                 align-items: center; /* Căn giữa các mục */
                 gap: 25px;
            }
            .detail-image-column {
                 width: 80%; /* Ảnh chiếm phần lớn chiều rộng */
                 max-width: 280px; /* Giới hạn kích thước ảnh */
                 min-width: unset; /* Reset min-width */
            }
            .detail-info-column {
                width: 100%; /* Thông tin chiếm toàn bộ chiều rộng */
                text-align: center; /* Căn giữa text trong cột thông tin */
            }
             .detail-info-column p strong {
                display: block; /* Label hiển thị trên một dòng riêng */
                margin-bottom: 3px;
                min-width: unset; /* Reset min-width */
             }
             .detail-info-column p span {
                 display: block; /* Nội dung hiển thị dưới label */
             }
             #detailMemory {
                 text-align: left; /* Giữ kỷ niệm căn trái */
             }
             #detailName {
                 font-size: 24px; /* Giảm cỡ chữ tên */
             }

            /* Popup danh sách trên tablet */
            #selectOverlay > div {
                max-width: 80%;
            }
            #memberListPopup {
                 grid-template-columns: 1fr 1fr; /* Luôn 2 cột trong popup */
            }
        }

        /* --- Mobile (<= 480px) --- */
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
             #viewAllBtn {
                top: 10px; left: 10px;
                padding: 8px 15px;
                font-size: 12px;
             }
             .teacher-section img.profile {
                width: 120px;
                height: 160px;
             }

             /* Grid thành viên trên mobile: 1 cột */
            .team-grid {
                grid-template-columns: 1fr; /* Chỉ 1 cột */
                gap: 15px;
            }
             .member img.profile {
                 height: 240px; /* Có thể tăng lại chiều cao khi chỉ có 1 cột */
             }
             .member p {
                 font-size: 13px; /* Giảm cỡ chữ quote */
             }

             /* Layout chi tiết thành viên trên mobile */
            #memberDetailView {
                padding: 20px 15px; /* Giảm padding */
                margin: 20px auto;
            }
            #backToListBtn {
                width: 100%; /* Nút quay lại chiếm hết chiều rộng */
                padding: 12px;
                font-size: 16px;
            }
             .detail-image-column {
                width: 90%;
                max-width: 240px;
             }
             #detailName {
                 font-size: 22px;
             }

            /* Popup danh sách trên mobile */
            #selectOverlay > div {
                padding: 15px;
                 max-width: 95%; /* Popup gần full màn hình */
                 max-height: 85vh;
            }
             #selectOverlay h2 {
                 font-size: 18px;
             }
            #memberListPopup {
                grid-template-columns: 1fr; /* Chỉ 1 cột trong popup */
                gap: 10px;
            }
            #memberListPopup li {
                 gap: 8px;
                 font-size: 14px;
             }
            #memberListPopup li img {
                 width: 28px;
                 height: 28px;
             }
        }

    </style>
</head>
<body class="fade-in"> <header>
        <h1>🎓 Kỷ yếu DK60 - Hành trình Thanh Xuân</h1>
    </header>

    <nav>
        <ul>
            <li><a href="index.html">Trang Chủ</a></li>
            <li><a href="about.html">Giới Thiệu</a></li>
            <li><a href="contact.html">Liên Hệ</a></li>
            <li><a href="thanh-vien-lop.html">Thành Viên</a></li>
        </ul>
    </nav>

    <button id="viewAllBtn">📋 Xem danh sách theo tổ</button>

     <h2 style="text-align: center; margin: 30px 0; color: #444;">
        📘 Thành viên tập thể DK60 - Nơi không gì là không thể :3
     </h2>


    <div id="mainContentWrapper">

        <div class="teacher-section">
            <img alt="Nguyễn Thị Hưng" class="profile" src="images/teachers/Cô Hưng.jpg"
                 data-index="0" data-name="Nguyễn Thị Hưng" data-group="Giáo viên chủ nhiệm"
                 data-birthday="09/01/1973" data-subject="Chủ nhiệm"
                 data-phone="Chưa cập nhật" data-address="Chưa cập nhật" data-fb=""
                 data-nickname="Cô Hưng" data-hobbies="Chưa cập nhật" data-memory="Chưa cập nhật"
            />
            <div class="info">
                <h3>Nguyễn Thị Hưng</h3>
                <p>👩‍🏫 Giáo viên chủ nhiệm</p>
                <p>🎂 Ngày sinh: 09/01/1973</p>
                 </div>
        </div>

        <div class="team-grid">
            <div class="team-box">
                <h3>Tổ 1</h3>
                <div class="member">
                    <img alt="Lê Thị Vân Anh" class="profile" src="images/members/Vân Anh.jpg"
                         data-index="1" data-name="Lê Thị Vân Anh" data-group="Tổ 1"
                         data-birthday="24/07/2007" data-phone="Chưa cập nhật" data-address="Chưa cập nhật" data-fb=""
                         data-nickname="Vân Anh năng động" data-hobbies="Đọc sách, nghe nhạc K-Pop" data-memory="Nhớ mãi lần cả lớp cùng nhau đi dã ngoại cuối năm lớp 10!" />
                    <p>“Sẽ chẳng còn ai gõ vào vai bảo tớ: ‘Ê, mai kiểm tra đó!’ nữa.”</p>
                </div>
                <div class="member">
                     <img alt="Nguyễn Thị Trúc Anh" class="profile" src="images/members/Trúc Anh.jpg"
                          data-index="2" data-name="Nguyễn Thị Trúc Anh" data-group="Tổ 1"
                          data-birthday="03/03/2007" data-phone="Chưa cập nhật" data-address="Chưa cập nhật" data-fb=""
                          data-nickname="Trúc Anh trầm tính" data-hobbies="Vẽ tranh" data-memory="Kỷ niệm ngày đầu tiên vào lớp 10." />
                    <p>“Tớ chưa kịp nói với cậu rằng: cảm ơn vì đã ở bên tớ suốt những ngày cuối cùng ấy.”</p>
                </div>
                 <div class="member">
                    <img alt="Mai Thị Ngọc Ánh" class="profile" src="images/members/Ngọc Ánh.jpg" data-index="3" data-name="Mai Thị Ngọc Ánh" data-group="Tổ 1" data-birthday="13/12/2007"/>
                    <p>“3 năm không dài, nhưng đủ để thương một tập thể!”</p>
                 </div>
                 <div class="member">
                    <img alt="Nguyễn Thị Nguyệt Ánh" class="profile" src="images/members/Nguyệt Ánh.jpg" data-index="4" data-name="Nguyễn Thị Nguyệt Ánh" data-group="Tổ 1" data-birthday="01/11/2007"/>
                    <p>“Lưu giữ thật kỹ những khoảnh khắc này bạn nhé.”</p>
                 </div>
                 <div class="member">
                    <img alt="Đàm Minh Châu" class="profile" src="images/members/Minh châu.jpg" data-index="5" data-name="Đàm Minh Châu" data-group="Tổ 1" data-birthday="13/12/2007"/>
                    <p>“Cảm ơn vì đã cùng nhau tạo nên ký ức thật đẹp.”</p>
                 </div>
                  <div class="member">
                    <img alt="Nguyễn Đức Cường" class="profile" src="images/members/Đức Cường.jpg" data-index="6" data-name="Nguyễn Đức Cường" data-group="Tổ 1" data-birthday="19/02/2007"/>
                    <p>“Tớ không nhớ hết các tiết học, nhưng tớ nhớ cảm giác ngồi cạnh các cậu.”</p>
                 </div>
                 <div class="member">
                    <img alt="Hoàng Thị Kim Dung" class="profile" src="images/members/Kim Dung.jpg" data-index="7" data-name="Hoàng Thị Kim Dung" data-group="Tổ 1" data-birthday="21/08/2007"/>
                    <p>“Thật vui vì chúng ta đã đi qua một đoạn đường cùng nhau!”</p>
                 </div>
                 <div class="member">
                    <img alt="Tạ Đức Dương" class="profile" src="images/members/Đức Dương.jpg" data-index="8" data-name="Tạ Đức Dương" data-group="Tổ 1" data-birthday="07/01/2007"/>
                    <p>“DK60 – một thanh xuân rực rỡ không thể nào quên.”</p>
                 </div>
                 <div class="member">
                     <img alt="Ngô Thị Khánh Linh" class="profile" src="images/members/Khánh Linh.jpg" data-index="9" data-name="Ngô Thị Khánh Linh" data-group="Tổ 1" data-birthday="11/11/2007"/>
                     <p>“Dù mai này ta bận rộn, có lẽ ta vẫn bất giác nhớ nhau vào một chiều tháng 5.”</p>
                 </div>
                 <div class="member">
                    <img alt="Nguyễn Trần Thục Hân" class="profile" src="images/members/Thục Hân.jpg" data-index="10" data-name="Nguyễn Trần Thục Hân" data-group="Tổ 1" data-birthday="05/09/2007"/>
                    <p>“Hẹn gặp lại ở tương lai – mỗi đứa đều thành công nhé!”</p>
                 </div>

            </div>

            <div class="team-box">
                <h3>Tổ 2</h3>
                 <div class="member">
                    <img alt="Đặng Hồng Hạnh" class="profile" src="images/members/Hồng Hạnh.jpg" data-index="11" data-name="Đặng Hồng Hạnh" data-group="Tổ 2" data-birthday="Chưa cập nhật"/>
                    <p>“Mỗi lần nhìn lại áo lớp, tớ lại thấy cả một thời vô tư ở đó.”</p>
                 </div>
                  <div class="member">
                    <img alt="Trần Văn Hữu" class="profile" src="images/members/Văn Hữu.jpg" data-index="12" data-name="Trần Văn Hữu" data-group="Tổ 2" data-birthday="Chưa cập nhật"/>
                    <p>“Lớp học sẽ im ắng hơn, không còn tiếng cậu hát nhảm mỗi sáng nữa đâu.”</p>
                 </div>
                  <div class="member">
                    <img alt="Nguyễn Thị Thúy Hường" class="profile" src="images/members/Thuý Hường.jpg" data-index="13" data-name="Nguyễn Thị Thúy Hường" data-group="Tổ 2" data-birthday="Chưa cập nhật"/>
                     <p>“Tớ từng mong lớn nhanh, nhưng giờ tớ chỉ ước thời gian ngừng lại một chút.”</p>
                  </div>
                   <div class="member">
                    <img alt="Võ Trung Quân" class="profile" src="images/members/Trung Quân.jpg" data-index="14" data-name="Võ Trung Quân" data-group="Tổ 2" data-birthday="Chưa cập nhật"/>
                    <p>“Lớp mình có thể không hoàn hảo, nhưng là nơi tớ muốn quay lại nhất”</p>
                  </div>
                  <div class="member">
                     <img alt="Trần Hương Giang" class="profile" src="images/members/Hương Giang.jpg" data-index="15" data-name="Trần Hương Giang" data-group="Tổ 2" data-birthday="Chưa cập nhật"/>
                     <p>“Sau này, mỗi người một ngả – nhưng tớ tin: một phần của tớ sẽ mãi ở lại nơi này.”</p>
                  </div>
                  <div class="member">
                     <img alt="Hoàng Ngọc Bảo Châu" class="profile" src="images/members/Bảo Châu.jpg" data-index="16" data-name="Hoàng Ngọc Bảo Châu" data-group="Tổ 2" data-birthday="Chưa cập nhật"/>
                     <p>“Thanh xuân là món quà tuyệt vời nhất mà lớp mình có.”</p>
                  </div>
                  <div class="member">
                     <img alt="Ngô Thị Thùy Dương" class="profile" src="images/members/Thuỳ Dương.jpg" data-index="17" data-name="Ngô Thị Thùy Dương" data-group="Tổ 2" data-birthday="Chưa cập nhật"/>
                     <p>“Lớp mình không chỉ học cùng nhau – mà đã sống thanh xuân cùng nhau.”</p>
                  </div>
                   <div class="member">
                     <img alt="Hồ Nhật Anh" class="profile" src="images/members/Nhật Anh.jpg" data-index="18" data-name="Hồ Nhật Anh" data-group="Tổ 2" data-birthday="Chưa cập nhật"/>
                     <p>“Cả lớp học này từng là thế giới nhỏ của tớ.”</p>
                  </div>
                   <div class="member">
                     <img alt="Hoàng Văn Thành Đạt" class="profile" src="images/members/Thành Đạt.jpg" data-index="19" data-name="Hoàng Văn Thành Đạt" data-group="Tổ 2" data-birthday="Chưa cập nhật"/>
                     <p>“Tớ sẽ nhớ cả những tiếng cười lúc trốn học, và cả những lúc bị gọi lên bảng run như cầy sấy.”</p>
                  </div>
                   <div class="member">
                    <img alt="Nguyễn Thị Kim Anh" class="profile" src="images/members/Kim Anh.jpg" data-index="20" data-name="Nguyễn Thị Kim Anh" data-group="Tổ 2" data-birthday="Chưa cập nhật"/>
                     <p>“Khi tớ viết những dòng này, tớ đã bắt đầu nhớ lớp mình rồi.”</p>
                  </div>
            </div>

            <div class="team-box">
                <h3>Tổ 3</h3>
                 <div class="member">
                    <img alt="Ngô Đình Nguyên" class="profile" src="images/members/Đình Nguyên.jpg" data-index="21" data-name="Ngô Đình Nguyên" data-group="Tổ 3" data-birthday="Chưa cập nhật"/>
                     <p>“Mỗi cái tên trong lớp là một mảnh ghép – thiếu ai cũng không trọn vẹn.”</p>
                  </div>
                  <div class="member">
                     <img alt="Trương Thị Phương Thảo" class="profile" src="images/members/Phương Thảo.jpg" data-index="22" data-name="Trương Thị Phương Thảo" data-group="Tổ 3" data-birthday="Chưa cập nhật"/>
                     <p>“Dù sau này mỗi đứa một nơi, tớ vẫn nhớ lớp mình lắm!”</p>
                  </div>
                  <div class="member">
                     <img alt="Nguyễn Thị Mai" class="profile" src="images/members/Thị Mai.jpg" data-index="23" data-name="Nguyễn Thị Mai" data-group="Tổ 3" data-birthday="Chưa cập nhật"/>
                     <p>“Thay vì nói 'giá như', tớ nói 'cảm ơn' – vì cậu đã là một phần của thanh xuân tớ.”</p>
                  </div>
                   <div class="member">
                     <img alt="Đặng Trần Minh Thư" class="profile" src="images/members/Minh Thư.jpg" data-index="24" data-name="Đặng Trần Minh Thư" data-group="Tổ 3" data-birthday="Chưa cập nhật"/>
                     <p>“Thật vui vì chúng ta đã đi qua một đoạn đường cùng nhau!”</p>
                  </div>
                   <div class="member">
                    <img alt="Trương Thị Huyền Trang" class="profile" src="images/members/Huyền Trang.jpg" data-index="25" data-name="Trương Thị Huyền Trang" data-group="Tổ 3" data-birthday="Chưa cập nhật"/>
                    <p>“Một thời để nhớ – một đời để thương!”</p>
                  </div>
                   <div class="member">
                    <img alt="Trương Nguyễn Lệ Quyên" class="profile" src="images/members/Lệ Quyên.jpg" data-index="26" data-name="Trương Nguyễn Lệ Quyên" data-group="Tổ 3" data-birthday="Chưa cập nhật"/>
                    <p>“Thật vui vì chúng ta đã đi qua một đoạn đường cùng nhau!”</p>
                  </div>
                  <div class="member">
                    <img alt="Đặng Thị Hồng Phương" class="profile" src="images/members/Hồng Phương.jpg" data-index="27" data-name="Đặng Thị Hồng Phương" data-group="Tổ 3" data-birthday="Chưa cập nhật"/>
                    <p>“Thật vui vì chúng ta đã đi qua một đoạn đường cùng nhau!”</p>
                  </div>
                  <div class="member">
                     <img alt="Nguyễn Xuân Đức Lương" class="profile" src="images/members/Đức Lương.jpg" data-index="28" data-name="Nguyễn Xuân Đức Lương" data-group="Tổ 3" data-birthday="29/05/2007"/>
                     <p>“Có những người chỉ gặp 3 năm, nhưng nhớ đến cả đời.”</p>
                  </div>
                   <div class="member">
                    <img alt="Trần Yến Nhi" class="profile" src="images/members/Yến Nhi.jpg" data-index="29" data-name="Trần Yến Nhi" data-group="Tổ 3" data-birthday="Chưa cập nhật"/>
                    <p>“Chúng mình đã từng mơ cùng nhau, từng ôn thi cùng nhau… và giờ thì chia tay cùng nhau.”</p>
                  </div>
                  <div class="member">
                     <img alt="Đậu Thị Hoài Phương" class="profile" src="images/members/Hoài Phương.jpg" data-index="30" data-name="Đậu Thị Hoài Phương" data-group="Tổ 3" data-birthday="Chưa cập nhật"/>
                     <p>“Thanh xuân là món quà tuyệt vời nhất mà lớp mình có.”</p>
                  </div>
            </div>

            <div class="team-box">
                <h3>Tổ 4</h3>
                 <div class="member">
                    <img alt="Hoàng Văn Hải" class="profile" src="images/members/Văn Hải.jpg" data-index="31" data-name="Hoàng Văn Hải" data-group="Tổ 4" data-birthday="09/02/2007"/>
                    <p>“Không ai biết lần cuối là khi nào – cho đến khi nó thật sự đến.”</p>
                  </div>
                   <div class="member">
                    <img alt="Vũ Quốc Huy" class="profile" src="images/members/Quốc Huy.jpg" data-index="32" data-name="Vũ Quốc Huy" data-group="Tổ 4" data-birthday="22/01/2007"/>
                    <p>“Tạm biệt nhé – những cái tên đã trở nên thân quen như hơi thở.”</p>
                  </div>
                  <div class="member">
                     <img alt="Phùng Đoàn Đan Linh" class="profile" src="images/members/Đan Linh.jpg" data-index="33" data-name="Phùng Đoàn Đan Linh" data-group="Tổ 4" data-birthday="15/03/2007"/>
                     <p>“Tớ chưa từng nghĩ chia tay lại buồn đến vậy…”</p>
                  </div>
                  <div class="member">
                    <img alt="Nguyễn Việt Quang" class="profile" src="images/members/Việt Quang.jpg" data-index="34" data-name="Nguyễn Việt Quang" data-group="Tổ 4" data-birthday="24/03/2007"/>
                    <p>“Cảm ơn vì đã cùng nhau tạo nên ký ức thật đẹp.”</p>
                  </div>
                   <div class="member">
                     <img alt="Võ Thị Tú Quyên" class="profile" src="images/members/Tú Quyên.jpg" data-index="35" data-name="Võ Thị Tú Quyên" data-group="Tổ 4" data-birthday="22/05/2007"/>
                     <p>“Thanh xuân là món quà tuyệt vời nhất mà lớp mình có.”</p>
                  </div>
                  <div class="member">
                     <img alt="Ngô Thị Hà Thương" class="profile" src="images/members/Hà Thương.jpg" data-index="36" data-name="Ngô Thị Hà Thương" data-group="Tổ 4" data-birthday="12/04/2007"/>
                     <p>“Mong sau này, khi ai đó nhắc đến DK60, cậu sẽ mỉm cười”</p>
                  </div>
                  <div class="member">
                     <img alt="Đặng Thái Bảo Trâm" class="profile" src="images/members/Bảo Trâm.jpg" data-index="37" data-name="Đặng Thái Bảo Trâm" data-group="Tổ 4" data-birthday="03/12/2007"/>
                     <p>“Tuổi học trò chỉ có một lần – và bạn là một phần trong đó.”</p>
                  </div>
                  <div class="member">
                    <img alt="Nguyễn Thị Phương Trinh" class="profile" src="images/members/Phương Trinh.jpg" data-index="38" data-name="Nguyễn Thị Phương Trinh" data-group="Tổ 4" data-birthday="05/07/2007"/>
                    <p>“Thanh xuân là món quà tuyệt vời nhất mà lớp mình có.”</p>
                  </div>
                  <div class="member">
                     <img alt="Hồ Lê Thái Uyên" class="profile" src="images/members/Thái Uyên.jpg" data-index="39" data-name="Hồ Lê Thái Uyên" data-group="Tổ 4" data-birthday="05/03/2007"/>
                     <p>“3 năm không dài, nhưng đủ để thương một tập thể!”</p>
                  </div>
                   <div class="member">
                     <img alt="Nguyễn Tố Uyên" class="profile" src="images/members/Tố Uyên.jpg" data-index="40" data-name="Nguyễn Tố Uyên" data-group="Tổ 4" data-birthday="04/10/2007"/>
                     <p>“Cảm ơn vì đã từng ngồi cạnh nhau – dù chỉ là một tiết học ngắn ngủi.”</p>
                  </div>
            </div>
        </div></div> <div id="memberDetailView" style="display: none;">
        <button id="backToListBtn">&larr; Quay lại Danh sách</button>
        <div class="detail-content-wrapper">
            <div class="detail-image-column">
                <img id="detailImage" src="" alt="Ảnh thành viên" />
            </div>
            <div class="detail-info-column">
                <h2 id="detailName">Tên Thành viên</h2>
                <p><strong>Biệt danh:</strong> <span id="detailNickname"></span></p>
                <p><strong>Ngày sinh:</strong> <span id="detailBirthday"></span></p>
                <p><strong>Tổ:</strong> <span id="detailGroup"></span></p>
                <p><strong>Số điện thoại:</strong> <span id="detailPhone"></span></p>
                <p><strong>Địa chỉ:</strong> <span id="detailAddress"></span></p>
                <p><strong>Facebook:</strong> <span id="detailFacebook"></span></p>
                <hr>
                <h4>Sở thích 🎨:</h4>
                <p id="detailHobbies"></p>
                <h4>Kỷ niệm đáng nhớ 💭:</h4>
                <blockquote id="detailMemory"></blockquote>
            </div>
        </div>
    </div>


    <div id="selectOverlay" style="display:none;">
        <div> <button class="close-btn" onclick="document.getElementById('selectOverlay').style.display='none'">×</button>
            <h2>Chọn thành viên theo tổ</h2>
            <div id="memberListPopup">
                </div>
        </div>
    </div>


    <footer>
        <p>© Made with ❤️ by Luonghiii & DK60 Collective</p>
    </footer>

    <script>
        // --- DOMContentLoaded: Đảm bảo HTML đã tải xong trước khi chạy JS ---
        document.addEventListener("DOMContentLoaded", function () {

            // --- Khai báo biến ---
            const mainContentWrapper = document.getElementById('mainContentWrapper'); // Wrapper cho GV và Grid
            const memberDetailView = document.getElementById('memberDetailView');   // Khu vực xem chi tiết
            const backToListBtn = document.getElementById('backToListBtn');       // Nút quay lại danh sách
            const viewAllBtn = document.getElementById("viewAllBtn");           // Nút xem danh sách theo tổ
            const selectOverlay = document.getElementById("selectOverlay");       // Popup danh sách theo tổ
            const memberListPopup = document.getElementById("memberListPopup");   // Nội dung popup danh sách
            const profiles = Array.from(document.querySelectorAll('.profile')); // Mảng các ảnh profile (GV + TV)

            let currentDetailIndex = -1; // Lưu index của thành viên đang xem chi tiết

            // --- Hàm hiển thị chi tiết thành viên ---
            function showMemberDetail(index) {
                if (index < 0 || index >= profiles.length) {
                    console.error("Index không hợp lệ:", index);
                    return; // Thoát nếu index không hợp lệ
                }

                const memberElement = profiles[index];
                const memberData = memberElement.dataset; // Lấy tất cả data-*

                // Ẩn danh sách, hiển thị khu vực chi tiết
                if (mainContentWrapper) mainContentWrapper.style.display = 'none';
                memberDetailView.style.display = 'block';
                // Cuộn lên đầu khu vực chi tiết một cách mượt mà
                memberDetailView.scrollIntoView({ behavior: 'smooth', block: 'start' });

                // --- Điền thông tin vào khu vực chi tiết ---
                // Cập nhật ảnh và alt text
                document.getElementById('detailImage').src = memberElement.src;
                document.getElementById('detailImage').alt = `Ảnh chân dung ${memberData.name || 'thành viên'}`;

                // Cập nhật các trường text
                document.getElementById('detailName').innerText = memberData.name || "Chưa cập nhật";
                document.getElementById('detailNickname').innerText = memberData.nickname || "Chưa cập nhật";
                document.getElementById('detailBirthday').innerText = memberData.birthday || "Chưa cập nhật";
                document.getElementById('detailGroup').innerText = memberData.group || "Chưa cập nhật";
                document.getElementById('detailPhone').innerText = memberData.phone || "Chưa cập nhật";
                document.getElementById('detailAddress').innerText = memberData.address || "Chưa cập nhật";
                document.getElementById('detailHobbies').innerText = memberData.hobbies || "Chưa cập nhật";
                document.getElementById('detailMemory').innerText = memberData.memory || "Chưa cập nhật";

                // Xử lý link Facebook (nếu có)
                const fbSpan = document.getElementById('detailFacebook');
                if (memberData.fb) {
                    // Tạo link an toàn, mở tab mới
                    fbSpan.innerHTML = `<a href="${memberData.fb}" target="_blank" rel="noopener noreferrer">${memberData.fb}</a>`;
                } else {
                    fbSpan.innerText = "Chưa cập nhật";
                }

                // Lưu lại index đang xem
                currentDetailIndex = index;
            }

            // --- Hàm quay lại danh sách ---
            function showListView() {
                memberDetailView.style.display = 'none'; // Ẩn view chi tiết
                if (mainContentWrapper) mainContentWrapper.style.display = 'block'; // Hiển thị lại view danh sách
                // Cân nhắc cuộn về vị trí trước đó thay vì luôn lên đầu trang
                 window.scrollTo({ top: 0, behavior: 'smooth' });
            }

            // --- Hàm tạo và hiển thị Popup danh sách theo tổ ---
            function showTeamListPopup() {
                memberListPopup.innerHTML = ""; // Xóa nội dung cũ
                const groups = {}; // Object để nhóm thành viên theo tổ
                 const leaders = ["Ngô Thị Khánh Linh", "Trần Yến Nhi", "Võ Thị Tú Quyên", "Đặng Hồng Hạnh"]; // Danh sách tổ trưởng (ví dụ)

                // Lặp qua tất cả profile để gom nhóm
                profiles.forEach((img, index) => {
                    const name = img.dataset.name || "Chưa rõ";
                    const group = img.dataset.group || "Không rõ tổ"; // Nhóm mặc định nếu thiếu data-group
                    const src = img.src;

                    // Bỏ qua nếu không phải thành viên (ví dụ: chỉ lấy tổ 1, 2, 3, 4)
                     if (!group.startsWith("Tổ") && group !== "Giáo viên chủ nhiệm") return;


                    if (!groups[group]) {
                        groups[group] = []; // Khởi tạo mảng nếu chưa có tổ này
                    }
                    // Thêm thông tin thành viên vào tổ tương ứng
                    groups[group].push({ name, index, src });
                });


                 // --- Hiển thị Giáo viên Chủ nhiệm đầu tiên (nếu có) ---
                 if (groups["Giáo viên chủ nhiệm"]) {
                    const teacher = groups["Giáo viên chủ nhiệm"][0]; // Chỉ có 1 GVCN
                    const tDiv = document.createElement("div");
                    tDiv.className = "to-box teacher-popup-item"; // Thêm class riêng cho GV
                    tDiv.style.gridColumn = "1 / -1"; // Chiếm hết chiều rộng grid
                    tDiv.style.textAlign = "center";
                    tDiv.style.cursor = "pointer";
                    tDiv.style.background = "rgba(255, 215, 0, 0.2)"; // Màu nền khác biệt

                    const tImg = document.createElement("img");
                    tImg.src = teacher.src;
                    tImg.style.width = "50px"; // Ảnh nhỏ hơn trong popup
                    tImg.style.height = "50px";
                    tImg.style.borderRadius = "50%";
                    tImg.style.objectFit = "cover";
                    tImg.style.boxShadow = "0 0 6px rgba(0,0,0,0.3)";
                    tImg.style.margin = "0 auto 5px auto"; // Căn giữa ảnh
                    tDiv.appendChild(tImg);

                    const tName = document.createElement("div");
                    tName.innerText = teacher.name;
                    tName.style.fontWeight = "bold";
                    tDiv.appendChild(tName);

                    // Khi click vào GVCN trong popup -> đóng popup và hiển thị chi tiết GVCN
                    tDiv.onclick = () => {
                        selectOverlay.style.display = "none";
                        showMemberDetail(teacher.index);
                    };
                    memberListPopup.appendChild(tDiv); // Thêm vào đầu danh sách popup
                 }


                // --- Hiển thị các tổ ---
                // Sắp xếp tên tổ (ví dụ: Tổ 1, Tổ 2, ...)
                const sortedGroups = Object.keys(groups).sort((a, b) => {
                     if (a === "Giáo viên chủ nhiệm") return -1; // GVCN luôn đầu
                     if (b === "Giáo viên chủ nhiệm") return 1;
                     return a.localeCompare(b, 'vi', { numeric: true }); // So sánh tự nhiên (Tổ 1 < Tổ 10)
                 });

                sortedGroups.forEach(group => {
                    // Bỏ qua GVCN vì đã hiển thị ở trên
                    if (group === "Giáo viên chủ nhiệm") return;

                    const wrapper = document.createElement("div");
                    wrapper.className = "to-box"; // Dùng lại class .to-box cho box tổ trong popup

                    const h3 = document.createElement("h3");
                    h3.innerText = group;
                    wrapper.appendChild(h3);

                    const ul = document.createElement("ul");
                    // Sắp xếp thành viên trong tổ theo tên
                    groups[group].sort((a, b) => a.name.localeCompare(b.name, 'vi'));

                    groups[group].forEach(mem => {
                        const li = document.createElement("li");
                        const img = document.createElement("img");
                        img.src = mem.src; // Ảnh đại diện nhỏ
                        li.appendChild(img);

                        // Thêm icon nếu là tổ trưởng
                        const nameText = leaders.includes(mem.name) ? `👑 ${mem.name}` : mem.name;
                        li.appendChild(document.createTextNode(nameText));

                        // Khi click vào tên thành viên -> đóng popup và hiển thị chi tiết
                        li.onclick = () => {
                            selectOverlay.style.display = "none";
                            showMemberDetail(mem.index);
                        };
                        ul.appendChild(li);
                    });
                    wrapper.appendChild(ul);
                    memberListPopup.appendChild(wrapper); // Thêm box của tổ vào popup
                });

                // Hiển thị popup
                selectOverlay.style.display = "flex";
            }


            // --- Gắn sự kiện ---

            // 1. Click vào ảnh profile -> Hiển thị chi tiết
            profiles.forEach((img, index) => {
                img.addEventListener('click', () => {
                    // Cập nhật data-index nếu nó chưa được set hoặc sai
                    if (!img.dataset.index || parseInt(img.dataset.index) !== index) {
                        console.warn(`Sửa data-index cho: ${img.dataset.name || 'Không tên'}. Index đúng: ${index}`);
                         img.dataset.index = index; // Gán index đúng
                     }
                    showMemberDetail(index);
                });
            });

            // 2. Click nút "Quay lại" -> Hiển thị danh sách
            if (backToListBtn) {
                backToListBtn.addEventListener('click', showListView);
            }

            // 3. Click nút "Xem danh sách theo tổ" -> Hiển thị popup
            if (viewAllBtn) {
                viewAllBtn.addEventListener('click', showTeamListPopup);
            }

             // 4. Click ra ngoài vùng content của popup -> Đóng popup
             if (selectOverlay) {
                 selectOverlay.addEventListener('click', function(event) {
                     // Chỉ đóng nếu click vào nền overlay (không phải content bên trong)
                     if (event.target === selectOverlay) {
                         selectOverlay.style.display = 'none';
                     }
                 });
             }


            // --- Hiệu ứng nền di chuyển theo chuột ---
            document.addEventListener("mousemove", function(e) {
                // Giới hạn hiệu ứng để không quá nhạy
                const x = (e.clientX / window.innerWidth - 0.5) * 10; // Giảm biên độ
                const y = (e.clientY / window.innerHeight - 0.5) * 10;
                // Áp dụng vị trí nền
                document.body.style.backgroundPosition = `calc(50% + ${-x}px) calc(50% + ${-y}px)`;
            });

             // --- Hiệu ứng chuyển trang mượt mà (cho các link nav) ---
             const navLinks = document.querySelectorAll("nav ul li a[href$='.html']");
             navLinks.forEach(link => {
                link.addEventListener("click", function (e) {
                    const currentHref = window.location.href.split('/').pop();
                    const targetHref = this.getAttribute("href");

                    // Chỉ thực hiện hiệu ứng nếu chuyển sang trang khác
                    if (currentHref !== targetHref) {
                         e.preventDefault(); // Ngăn chuyển trang ngay
                         document.body.style.opacity = 0; // Làm mờ trang hiện tại
                         setTimeout(() => {
                            window.location.href = targetHref; // Chuyển trang sau khi mờ
                        }, 400); // Thời gian phải khớp với transition opacity của body
                     }
                 });
             });

             // --- Kích hoạt hiệu ứng fade-in ban đầu ---
             // Đảm bảo class được thêm sau khi CSS đã sẵn sàng
             requestAnimationFrame(() => {
                document.body.classList.add("fade-in");
             });

        }); // End DOMContentLoaded
    </script>

</body>
</html>