<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Giới Thiệu - Kỷ yếu DK60</title>
    <link href="images/logo/logo1.png" id="dynamic-favicon" rel="icon" type="image/png"/>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Dancing+Script:wght@600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Định nghĩa biến màu và thời gian animation */
        :root {
            --primary-color: #8b5cf6; /* purple-500 */
            --primary-light: #c4b5fd; /* purple-300 */
            --primary-dark: #6d28d9; /* purple-700 */
            --animation-time: 0.6s; /* Thời gian cho các hiệu ứng chuyển cảnh */
        }

        /* Cài đặt font, nền, màu chữ mặc định cho body */
        body {
            font-family: 'Inter', Arial, sans-serif;
            background-color: #f0f4f8; /* slate-100 */
            color: #334155; /* slate-700 */
            margin: 0;
            background-image: url('images/bg.png'); /* Ảnh nền */
            background-size: cover; /* Phủ kín màn hình */
            background-repeat: no-repeat; /* Không lặp lại ảnh nền */
            background-attachment: fixed; /* Giữ ảnh nền cố định khi cuộn */
            background-position: center; /* Căn giữa ảnh nền */
            /* Hiệu ứng chuyển cảnh cho nền, opacity, màu chữ */
            transition: background-position 0.1s ease, opacity var(--animation-time) ease-in-out, background-color 0.3s ease, color 0.3s ease;
            opacity: 0; /* Mặc định ẩn để tạo hiệu ứng fade-in */
            scroll-behavior: smooth; /* Cuộn mượt */
        }

        /* --- Dark Mode Styles --- */
        html.dark body {
            background-color: #1e293b; /* slate-900 */
            color: #e2e8f0; /* slate-200 */
        }
        /* Nền cho header, mobile menu, card highlight, memory tab (không active), search modal */
        html.dark header, html.dark #mobileMenu, html.dark .card-highlight, html.dark .memory-tab:not(.active), html.dark #main-header, html.dark #searchModalContent {
            background-color: rgba(30, 41, 59, 0.9) !important; /* slate-900 với độ trong suốt */
            /* backdrop-filter: blur(12px); */
        }
        /* Nền cụ thể cho nội dung search modal trong dark mode */
        html.dark #searchModalContent {
             background-color: #2c3e50 !important; /* Một sắc thái tối hơn một chút */
        }
        /* Màu chữ cho các nav item không active trong dark mode */
        html.dark .nav-item:not(.active-nav-link) { color: #cbd5e1 !important; } /* slate-300 */
        /* Màu chữ khi hover nav item không active trong dark mode */
        html.dark .nav-item:not(.active-nav-link):hover { color: var(--primary-light) !important; }
        /* Màu chữ cho nav item active trong dark mode */
        html.dark .active-nav-link { color: var(--primary-light) !important; }
        /* Màu chấm tròn dưới nav item active trong dark mode */
        html.dark .active-nav-link::after { background-color: var(--primary-light) !important; }
        /* Màu chữ cho các class text-slate trong dark mode */
        html.dark .text-slate-700 { color: #e2e8f0 !important; } /* slate-200 */
        html.dark .text-slate-600 { color: #cbd5e1 !important; } /* slate-300 */
        html.dark .text-slate-500 { color: #94a3b8 !important; } /* slate-400 */
        /* Màu border cho các class border-purple trong dark mode */
        html.dark .border-purple-400 { border-color: var(--primary-light) !important; }
        /* Màu nền cho các class bg-purple trong dark mode */
        html.dark .bg-purple-50 { background-color: rgba(76, 29, 149, 0.3) !important; } /* purple-800 alpha */
        /* Màu nền gradient trong dark mode */
        html.dark .bg-gradient-to-r.from-pink-50 {
            background-image: linear-gradient(to right, rgba(59, 17, 78, 0.3), rgba(76, 29, 149, 0.3), rgba(109, 40, 217, 0.3)); /* Custom dark gradient */
        }
        /* Màu chữ cho các class text-purple trong dark mode */
        html.dark .text-purple-800 { color: var(--primary-light) !important; }
        /* Màu nền cho các class bg-pink trong dark mode */
        html.dark .bg-pink-100 { background-color: rgba(219, 39, 119, 0.2) !important; } /* pink-600 alpha */
        /* Màu chữ cho các class text-pink trong dark mode */
        html.dark .text-pink-800 { color: #f9a8d4 !important; } /* pink-300 */
        /* Màu nền cho các class bg-blue trong dark mode */
        html.dark .bg-blue-100 { background-color: rgba(59, 130, 246, 0.2) !important; } /* blue-500 alpha */
        /* Màu chữ cho các class text-blue trong dark mode */
        html.dark .text-blue-800 { color: #93c5fd !important; } /* blue-300 */
        /* Màu nền cho các class bg-green trong dark mode */
        html.dark .bg-green-100 { background-color: rgba(16, 185, 129, 0.2) !important; } /* green-600 alpha */
        /* Màu chữ cho các class text-green trong dark mode */
        html.dark .text-green-800 { color: #6ee7b7 !important; } /* green-300 */

        /* Dark mode cho các box kỷ niệm */
        html.dark .p-5.bg-sky-50 { background-color: rgba(14, 165, 233, 0.15) !important; border-color: #38bdf8 !important; } /* sky-500 alpha, border sky-400 */
        html.dark .text-sky-700 { color: #bae6fd !important; } /* sky-200 */
        html.dark .text-sky-400 { color: #7dd3fc !important; } /* sky-300 */
        html.dark .bg-sky-100 { background-color: rgba(56, 189, 248, 0.2) !important; } /* sky-400 alpha */
        html.dark .hover\:text-sky-500:hover { color: #38bdf8 !important; } /* sky-400 */

        html.dark .p-5.bg-emerald-50 { background-color: rgba(16, 185, 129, 0.15) !important; border-color: #34d399 !important; } /* emerald-500 alpha, border emerald-400 */
        html.dark .text-emerald-700 { color: #a7f3d0 !important; } /* emerald-200 */
        html.dark .text-emerald-400 { color: #6ee7b7 !important; } /* emerald-300 */
        html.dark .bg-emerald-100 { background-color: rgba(52, 211, 153, 0.2) !important; } /* emerald-400 alpha */
        html.dark .hover\:text-emerald-500:hover { color: #34d399 !important; } /* emerald-400 */

        html.dark .p-5.bg-amber-50 { background-color: rgba(245, 158, 11, 0.15) !important; border-color: #f59e0b !important; } /* amber-500 alpha, border amber-400 */
        html.dark .text-amber-700 { color: #fcd34d !important; } /* amber-300 */
        html.dark .text-amber-400 { color: #fbbf24 !important; } /* amber-400 */
        html.dark .bg-amber-100 { background-color: rgba(251, 191, 36, 0.2) !important; } /* amber-400 alpha */
        html.dark .hover\:text-amber-500:hover { color: #f59e0b !important; } /* amber-400 */

        /* Dark mode cho thẻ thành viên */
        html.dark .member-card {
            background-image: linear-gradient(to bottom right, #2c3e50, #34495e) !important; /* Custom dark gradient */
        }
        /* Màu chữ cho các class text-màu-700 trong dark mode */
        html.dark .text-purple-700 { color: var(--primary-light) !important; }
        html.dark .text-pink-700 { color: #f472b6 !important; } /* pink-400 */
        html.dark .text-amber-700 { color: #fcd34d !important; } /* amber-300 */
        html.dark .text-green-700 { color: #86efac !important; } /* green-300 */
        html.dark .text-sky-700 { color: #7dd3fc !important; } /* sky-300 */
        html.dark .text-indigo-700 { color: #a5b4fc !important; } /* indigo-300 */
        html.dark .text-rose-700 { color: #fda4af !important; } /* rose-300 */
        html.dark .text-teal-700 { color: #5eead4 !important; } /* teal-300 */
        html.dark .text-cyan-700 { color: #67e8f9 !important; } /* cyan-300 */
        html.dark .text-fuchsia-700 { color: #f0abfc !important; } /* fuchsia-300 */
        html.dark .text-lime-700 { color: #a3e635 !important; } /* lime-300 */
        html.dark .text-orange-700 { color: #fdba74 !important; } /* orange-300 */
        html.dark .text-violet-700 { color: #d8b4fe !important; } /* violet-300 */
        html.dark .text-emerald-700 { color: #6ee7b7 !important; } /* emerald-300 */
        html.dark .text-blue-700 { color: #93c5fd !important; } /* blue-300 */
        html.dark .text-red-700 { color: #fca5a5 !important; } /* red-300 */
        html.dark .text-yellow-700 { color: #fde047 !important; } /* yellow-300 */
        html.dark .text-gray-700 { color: #d1d5db !important; } /* gray-300 */

        /* Màu border cho các class border-màu-300 trong dark mode */
        html.dark .border-purple-300 { border-color: var(--primary-color) !important; }
        html.dark .border-pink-300 { border-color: #ec4899 !important; } /* pink-500 */
        html.dark .border-amber-300 { border-color: #f59e0b !important; } /* amber-500 */
        html.dark .border-green-300 { border-color: #22c55e !important; } /* green-500 */
        html.dark .border-sky-300 { border-color: #0ea5e9 !important; } /* sky-500 */
        html.dark .border-indigo-300 { border-color: #6366f1 !important; } /* indigo-500 */
        html.dark .border-rose-300 { border-color: #f43f5e !important; } /* rose-500 */
        html.dark .border-teal-300 { border-color: #14b8a6 !important; } /* teal-500 */
        html.dark .border-cyan-300 { border-color: #06b6d4 !important; } /* cyan-500 */
        html.dark .border-fuchsia-300 { border-color: #e879f9 !important; } /* fuchsia-500 */
        html.dark .border-lime-300 { border-color: #84cc16 !important; } /* lime-500 */
        html.dark .border-orange-300 { border-color: #f97316 !important; } /* orange-500 */
        html.dark .border-violet-300 { border-color: #8b5cf6 !important; } /* violet-500 */
        html.dark .border-emerald-300 { border-color: #10b981 !important; } /* emerald-500 */
        html.dark .border-blue-300 { border-color: #3b82f6 !important; } /* blue-500 */
        html.dark .border-red-300 { border-color: #ef4444 !important; } /* red-500 */
        html.dark .border-yellow-300 { border-color: #eab308 !important; } /* yellow-500 */
        html.dark .border-gray-300 { border-color: #9ca3af !important; } /* gray-500 */


        /* Ẩn icon mặt trời trong dark mode và icon mặt trăng trong light mode */
        html:not(.dark) .theme-toggle .moon-icon { display: none; }
        html.dark .theme-toggle .sun-icon { display: none; }

        /* Dark mode: làm nền các section trong suốt (ngoại trừ header & footer) */
        html.dark main section,
        html.dark main .card-highlight,
        html.dark main [class*="bg-"]:not(.text-transparent), /* Loại trừ các class bg dùng cho text gradient */
        html.dark .member-card,
        html.dark .memory-tab,
        html.dark #memories .space-y-6 > div {
            background-color: transparent !important;
            background-image: none !important;
            backdrop-filter: none !important;
        }


        /* Hiệu ứng fade-in khi load trang */
        body.fade-in { opacity: 1; }
        /* Font chữ đặc biệt cho tiêu đề */
        .fancy-title { font-family: 'Dancing Script', cursive; }
        /* Hiệu ứng highlight cho card khi hover */
        .card-highlight { transition: all 0.3s ease; }
        .card-highlight:hover { transform: translateY(-8px) scale(1.02); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); }
        /* Hiệu ứng nổi cho icon */
        .floating { animation: floating 3s ease-in-out infinite; }
        @keyframes floating { 0% { transform: translateY(0px); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0px); } }
        /* Hiệu ứng glowing cho chữ */
        .glowing { animation: glow 2s ease-in-out infinite alternate; }
        @keyframes glow {
            from { text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px var(--primary-light), 0 0 20px var(--primary-light); }
            to { text-shadow: 0 0 10px #fff, 0 0 15px var(--primary-color), 0 0 20px var(--primary-color), 0 0 25px var(--primary-color); }
        }
        /* Tùy chỉnh scrollbar cho webkit browsers */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: rgba(203, 213, 225, 0.3); border-radius: 10px; } /* slate-300 alpha */
        html.dark ::-webkit-scrollbar-track { background: #2d3748; } /* slate-800 */
        ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 10px; } /* slate-400 */
        html.dark ::-webkit-scrollbar-thumb { background: var(--primary-dark); } /* purple-700 */
        ::-webkit-scrollbar-thumb:hover { background: #64748b; } /* slate-500 */
        html.dark ::-webkit-scrollbar-thumb:hover { background: var(--primary-color); } /* purple-500 */

        /* Nút Back to Top */
        #backToTopBtn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 99;
            transition: opacity 0.3s, visibility 0.3s, transform 0.3s;
            opacity: 0; /* Mặc định ẩn */
            visibility: hidden; /* Mặc định ẩn */
            transform: scale(0.9); /* Mặc định hơi nhỏ */
        }
        /* Class để hiển thị nút */
        #backToTopBtn.visible {
            opacity: 1;
            visibility: visible;
            transform: scale(1);
        }
        #backToTopBtn:hover { transform: translateY(-5px) scale(1.05); } /* Hiệu ứng khi hover */

        /* Hiệu ứng nhấp nháy */
        .blink { animation: blink 1.5s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

        /* Container ảnh thành viên và overlay */
        .member-img-container { position: relative; overflow: hidden; border-radius: 9999px; }
        .member-img-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(to bottom, rgba(139, 92, 246, 0), rgba(109, 40, 217, 0.4)); opacity: 0; transition: opacity 0.3s; }
        .member-card:hover .member-img-overlay { opacity: 1; } /* Hiển thị overlay khi hover card */

        /* Style cho nav item active (desktop) */
        .nav-item.active-nav-link {
            position: relative;
            color: var(--primary-dark) !important; /* purple-700 */
            font-weight: 600 !important;
        }
        .nav-item.active-nav-link::after {
            content: "";
            position: absolute;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            background-color: var(--primary-color); /* purple-500 */
            border-radius: 50%;
        }

        /* Style cho nút trái tim (like) */
        .heart-btn { position: relative; transition: transform 0.2s; }
        .heart-btn:hover { transform: scale(1.2); }
        .heart-btn.active { color: #e11d48; } /* red-600 */

        /* Styles cho Search Modal */
        #searchModal {
            background-color: rgba(0,0,0,0.6); /* Nền mờ đậm hơn */
            backdrop-filter: blur(5px); /* Thêm hiệu ứng blur */
        }
        /* Input tìm kiếm trong dark mode */
        html.dark #searchInputField { /* Đã đổi tên id cho nhất quán */
            background-color: #374151; /* bg-slate-700 */
            color: #e5e7eb; /* text-slate-100 */
            border-color: #4b5563; /* border-slate-600 */
        }
         html.dark #searchInputField::placeholder {
            color: #9ca3af; /* placeholder-slate-400 */
        }

        /* Style cho container kết quả trong modal */
        #modalSearchResults {
            margin-top: 1rem; /* Khoảng cách với input */
            max-height: 300px; /* Giới hạn chiều cao để có scroll */
            overflow-y: auto; /* Thêm scroll khi cần */
            padding-right: 8px; /* Khoảng trống cho scrollbar */
        }

         /* Style cho các thẻ thành viên trong modal */
        #modalSearchResults .member-card {
            margin-bottom: 1rem; /* Khoảng cách giữa các thẻ */
            /* Bỏ các hiệu ứng hover và transform để tránh rối mắt trong modal */
            transition: none;
            transform: none;
            box-shadow: none;
            /* Điều chỉnh lại padding hoặc layout nếu cần cho phù hợp với modal */
            padding: 0.75rem; /* p-3 */
            flex-direction: row; /* Hiển thị ngang trong modal */
            align-items: center;
            text-align: left;
            background-image: none !important; /* Bỏ gradient nền */
             background-color: #f8fafc; /* bg-slate-50 */
             border: 1px solid #e2e8f0; /* border-slate-200 */
             cursor: pointer; /* Thêm con trỏ tay khi hover */
        }

        html.dark #modalSearchResults .member-card {
            background-color: #334155 !important; /* bg-slate-700 */
            border-color: #475569 !important; /* border-slate-600 */
        }

        /* Hiệu ứng hover cho thẻ kết quả tìm kiếm */
        #modalSearchResults .member-card:hover {
            background-color: #e2e8f0; /* hover:bg-slate-200 */
        }
         html.dark #modalSearchResults .member-card:hover {
             background-color: #475569 !important; /* hover:bg-slate-600 */
         }


        #modalSearchResults .member-card .member-img-container {
             width: 48px; /* w-12 */
             height: 48px; /* h-12 */
             flex-shrink: 0; /* Ngăn ảnh bị co lại */
             margin-right: 1rem; /* mr-4 */
             /* Bỏ overlay trong modal search result */
             border-radius: 9999px; /* rounded-full */
        }
         #modalSearchResults .member-card .member-img-container .member-img-overlay {
             display: none; /* Ẩn overlay */
         }


        #modalSearchResults .member-card .member-img-container img {
             width: 100%;
             height: 100%;
             object-fit: cover;
             border-width: 1px; /* border */
             border-radius: 9999px; /* rounded-full */
        }

        #modalSearchResults .member-card h3 {
             font-size: 1rem; /* text-base */
             margin-top: 0;
             margin-bottom: 0.25rem; /* mb-1 */
             font-weight: 600; /* font-semibold */
             color: #6d28d9; /* text-purple-800 */
        }
         html.dark #modalSearchResults .member-card h3 {
             color: var(--primary-light) !important; /* purple-300 */
         }

        #modalSearchResults .member-card p {
             font-size: 0.875rem; /* text-sm */
             color: #64748b; /* text-slate-500 */
        }
         html.dark #modalSearchResults .member-card p {
             color: #cbd5e1; /* text-slate-300 */
         }

    </style>
</head>
<body class="bg-slate-100 text-slate-800">

<div id="loading-overlay" class="fixed inset-0 bg-purple-900 z-[9999] flex items-center justify-center transition-opacity duration-700">
    <div class="loading-content text-center flex flex-col items-center justify-center">
        <img src="images/full.png" alt="Ảnh lớp">
        <div>
            <h1 class="fancy-title text-5xl text-white mb-4 glowing text-center">Memory of DK60<br>by Luonghiii</h1>
            <div class="flex space-x-1 justify-center">
                <div class="w-3 h-3 bg-white rounded-full animate-bounce" style="animation-delay: 0s"></div>
                <div class="w-3 h-3 bg-white rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                <div class="w-3 h-3 bg-white rounded-full animate-bounce" style="animation-delay: 0.4s"></div>
            </div>
        </div>
    </div>
</div>

    <header class="bg-white/90 backdrop-blur-md shadow-lg sticky top-0 z-50 transition-all duration-300" id="main-header">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <div class="flex-shrink-0">
                     <a href="index.html" class="text-2xl sm:text-3xl font-bold fancy-title text-transparent bg-clip-text bg-gradient-to-r from-purple-600 via-pink-500 to-red-500 hover:from-red-500 hover:via-pink-500 hover:to-purple-600 transition-all duration-500">
                        🎓 Ký ức DK60
                    </a>
                </div>
                <nav class="hidden md:flex space-x-6">
                    <a href="index.html" class="nav-item text-slate-600 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Trang Chủ</a>
                    <a href="about.html" class="nav-item px-3 py-2 text-sm font-medium transition-colors">Giới Thiệu</a>
                    <a href="contact.html" class="nav-item text-slate-600 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Liên Hệ</a>
                    <a href="thanh-vien-lop.html" class="nav-item text-slate-600 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Thành Viên</a>
                </nav>
                <div class="hidden md:flex space-x-3">
                    <button id="searchButton" class="bg-purple-100 hover:bg-purple-200 text-purple-600 p-2 rounded-full transition-colors" title="Tìm kiếm">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                        </svg>
                    </button>
                    <button id="themeToggle" class="theme-toggle bg-purple-100 hover:bg-purple-200 text-purple-600 p-2 rounded-full transition-colors" title="Chế độ tối/sáng">
                        <svg class="w-5 h-5 sun-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" >
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
                        </svg>
                        <svg class="w-5 h-5 moon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />
                        </svg>
                    </button>
                </div>
                <div class="md:hidden">
                    <button id="mobileMenuBtn" aria-label="Mở menu" class="text-slate-600 hover:text-purple-600 focus:outline-none">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobileMenu" class="md:hidden hidden bg-white/95 backdrop-blur-md shadow-lg">
            <a href="index.html" class="nav-item block text-slate-600 hover:text-purple-600 hover:bg-purple-50 px-4 py-3 text-sm font-medium transition-colors">Trang Chủ</a>
            <a href="about.html" class="nav-item block text-purple-600 bg-purple-50 font-semibold px-4 py-3 text-sm">Giới Thiệu</a>
            <a href="contact.html" class="nav-item block text-slate-600 hover:text-purple-600 hover:bg-purple-50 px-4 py-3 text-sm font-medium transition-colors">Liên Hệ</a>
            <a href="thanh-vien-lop.html" class="nav-item block text-slate-600 hover:text-purple-600 hover:bg-purple-50 px-4 py-3 text-sm font-medium transition-colors">Thành Viên</a>
            <div class="flex space-x-3 p-4 border-t border-gray-100">
                <button id="mobileSearchButton" class="bg-purple-100 hover:bg-purple-200 text-purple-600 p-2 rounded-full transition-colors flex-1" title="Tìm kiếm">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 mx-auto">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                    </svg>
                </button>
                <button id="mobileThemeToggle" class="theme-toggle bg-purple-100 hover:bg-purple-200 text-purple-600 p-2 rounded-full transition-colors flex-1" title="Chế độ tối/sáng">
                     <svg class="w-5 h-5 mx-auto sun-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" >
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
                    </svg>
                    <svg class="w-5 h-5 mx-auto moon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <div id="progressBar" class="h-1 bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 w-0 fixed top-0 left-0 z-[60] transition-all duration-200"></div>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">
        <div class="text-sm text-slate-500 mb-6 flex items-center">
            <a href="index.html" class="hover:text-purple-600 transition-colors">Trang chủ</a>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-3 h-3 mx-2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
            </svg>
            <span class="text-purple-600 font-medium">Giới thiệu</span>
        </div>

        <section id="about-me" class="mb-12 md:mb-16 bg-white/70 backdrop-blur-md p-6 sm:p-8 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300 card-highlight">
            <h2 class="text-3xl sm:text-4xl font-bold text-center mb-8 text-slate-700 fancy-title">
                📖 Chào Cậu, Tớ là Luonghii!
            </h2>
            <div class="flex flex-col md:flex-row items-center md:items-start gap-6 md:gap-10">
                <div class="flex-shrink-0 text-center member-card">
                    <div class="member-img-container">
                        <img alt="Avatar của Luonghii" src="images/about/avatar.png"
                             class="w-32 h-32 sm:w-40 sm:h-40 object-cover rounded-full border-4 border-purple-300 shadow-lg mx-auto"
                             onerror="this.src='https://placehold.co/160x160/a78bfa/ffffff?text=Luonghii'; this.onerror=null;"/>
                        <div class="member-img-overlay"></div>
                    </div>
                    <div class="mt-3 flex justify-center space-x-2">
                        <button class="heart-btn p-2 text-gray-400 hover:text-red-500 transition-colors" title="Yêu thích">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
                            </svg>
                        </button>
                        <button class="p-2 text-gray-400 hover:text-purple-500 transition-colors" title="Chia sẻ">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z" />
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="text-center md:text-left">
                    <p class="text-lg text-slate-600 mb-4 leading-relaxed">
                        Mỗi bức ảnh, mỗi dòng chữ trong trang web này đều là một phần ký ức quý giá.
                        Chúng ta không chỉ học cùng nhau, mà còn trưởng thành cùng nhau – dưới mái nhà <span class="font-semibold text-purple-600">DK60</span> thân yêu. ❤️
                    </p>
                    <blockquote class="italic text-slate-500 border-l-4 border-purple-400 pl-4 py-2 my-6 bg-purple-50 rounded-r-md">
                        <p>"Chúng ta đi qua thanh xuân không phải để nhớ, mà để mỉm cười mỗi khi nghĩ về."</p>
                        <footer class="text-right text-xs text-purple-400 mt-1">- Lời từ trái tim -</footer>
                    </blockquote>
                    <div class="mt-6 p-4 bg-gradient-to-r from-pink-50 via-purple-50 to-red-50 rounded-lg shadow-inner">
                        <p class="text-center text-sm sm:text-base font-semibold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-purple-600 to-red-600 animate-pulse">
                            ✨ Thanh xuân không bao giờ quay lại, nhưng ký ức sẽ mãi còn trong tim mỗi chúng ta. ✨
                        </p>
                    </div>
                    <div class="mt-6 flex flex-wrap gap-2 justify-center md:justify-start">
                        <span class="bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-0.5 rounded-full">💖 Kỷ yếu</span>
                        <span class="bg-pink-100 text-pink-800 text-xs font-medium px-2.5 py-0.5 rounded-full">🎓 DK60</span>
                        <span class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full">✨ Kỷ niệm</span>
                        <span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full">🌱 Tuổi trẻ</span>
                    </div>
                </div>
            </div>
        </section>

        <section id="memories" class="mb-12 md:mb-16 bg-white/70 backdrop-blur-md p-6 sm:p-8 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300 card-highlight">
            <h2 class="text-3xl sm:text-4xl font-bold text-center mb-8 text-slate-700 fancy-title relative">
                <span class="inline-block floating">🌟</span> Góc Kỷ Niệm DK60
            </h2>

            <div class="mb-6 flex overflow-x-auto space-x-2 pb-2">
                <button class="memory-tab bg-purple-100 text-purple-700 px-4 py-2 rounded-full text-sm font-medium hover:bg-purple-200 transition-colors active">Mọi kỷ niệm</button>
                <button class="memory-tab bg-white text-slate-600 px-4 py-2 rounded-full text-sm font-medium hover:bg-purple-100 hover:text-purple-700 transition-colors">Lớp 10</button>
                <button class="memory-tab bg-white text-slate-600 px-4 py-2 rounded-full text-sm font-medium hover:bg-purple-100 hover:text-purple-700 transition-colors">Lớp 11</button>
                <button class="memory-tab bg-white text-slate-600 px-4 py-2 rounded-full text-sm font-medium hover:bg-purple-100 hover:text-purple-700 transition-colors">Lớp 12</button>
                <button class="memory-tab bg-white text-slate-600 px-4 py-2 rounded-full text-sm font-medium hover:bg-purple-100 hover:text-purple-700 transition-colors">Hoạt động ngoại khóa</button>
            </div>

            <div class="space-y-6">
                <div class="p-5 bg-sky-50 border-l-4 border-sky-400 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1">
                    <div class="flex justify-between items-start mb-2">
                        <div class="flex items-center">
                            <img src="images/members/Ngọc Ánh.jpg" alt="Avatar Mai Thị Ngọc Ánh" class="w-8 h-8 rounded-full mr-2">
                            <span class="font-medium text-sky-700">Mai Thị Ngọc Ánh</span>
                        </div>
                        <span class="text-xs text-sky-400">12/07/2022</span>
                    </div>
                    <p class="italic text-sky-700">"Ngày đầu bỡ ngỡ bước vào cổng trường, ai ngờ đâu lại có những người bạn tuyệt vời thế này!"</p>
                    <div class="flex justify-between items-center mt-3">
                        <div class="flex space-x-2">
                            <button class="text-slate-400 hover:text-sky-500 text-sm flex items-center transition-colors" aria-label="Thích">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.633 10.5c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 012.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 00.322-1.672V3a.75.75 0 01.75-.75A2.25 2.25 0 0116.5 4.5c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 01-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 00-1.423-.23H5.904M14.25 9h2.25M5.904 18.75c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 01-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 10.203 4.167 9.75 5 9.75h1.053c.472 0 .745.556.5.96a8.958 8.958 0 00-1.302 4.665c0 1.194.232 2.333.654 3.375z" />
                                </svg>
                                24
                            </button>
                            <button class="text-slate-400 hover:text-sky-500 text-sm flex items-center transition-colors" aria-label="Bình luận">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z" />
                                </svg>
                                8
                            </button>
                        </div>
                        <div class="flex items-center text-xs text-sky-400">
                            <span class="bg-sky-100 rounded-full px-2 py-0.5">#ngàyđầutiên</span>
                        </div>
                    </div>
                </div>
                <div class="p-5 bg-emerald-50 border-l-4 border-emerald-400 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1">
                    <div class="flex justify-between items-start mb-2">
                        <div class="flex items-center">
                            <img src="images/members/Văn Hữu.jpg" alt="Avatar Hữu Văn" class="w-8 h-8 rounded-full mr-2">
                            <span class="font-medium text-emerald-700">Hữu Trần</span>
                        </div>
                        <span class="text-xs text-emerald-400">02/05/2023</span>
                    </div>
                    <p class="italic text-emerald-700">"Nhớ những buổi học nhóm căng thẳng nhưng đầy ắp tiếng cười, nhớ cả những lần trốn học đi ăn vặt nữa chứ!"</p>
                    <div class="flex justify-between items-center mt-3">
                        <div class="flex space-x-2">
                            <button class="text-slate-400 hover:text-emerald-500 text-sm flex items-center transition-colors" aria-label="Thích">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.633 10.5c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 012.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 00.322-1.672V3a.75.75 0 01.75-.75A2.25 2.25 0 0116.5 4.5c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 01-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 00-1.423-.23H5.904M14.25 9h2.25M5.904 18.75c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 01-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 10.203 4.167 9.75 5 9.75h1.053c.472 0 .745.556.5.96a8.958 8.958 0 00-1.302 4.665c0 1.194.232 2.333.654 3.375z" />
                                </svg>
                                18
                            </button>
                            <button class="text-slate-400 hover:text-emerald-500 text-sm flex items-center transition-colors" aria-label="Bình luận">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z" />
                                </svg>
                                5
                            </button>
                        </div>
                        <div class="flex items-center text-xs text-emerald-400">
                            <span class="bg-emerald-100 rounded-full px-2 py-0.5 mr-1">#họchành</span>
                            <span class="bg-emerald-100 rounded-full px-2 py-0.5">#vuitính</span>
                        </div>
                    </div>
                </div>
                <div class="p-5 bg-amber-50 border-l-4 border-amber-400 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1">
                    <div class="flex justify-between items-start mb-2">
                        <div class="flex items-center">
                            <img src="images/teachers/Cô Hưng.jpg" alt="Avatar Ký ức tập thể" class="w-8 h-8 rounded-full mr-2">
                            <span class="font-medium text-amber-700">Ký ức tập thể</span>
                        </div>
                        <span class="text-xs text-amber-400">10/10/2023</span>
                    </div>
                    <p class="italic text-amber-700">"DK60 không chỉ là một lớp học, đó là gia đình thứ hai của tớ. Những chuyến đi chơi, những buổi liên hoan, tất cả đều thật đáng nhớ."</p>
                    <div class="flex justify-between items-center mt-3">
                        <div class="flex space-x-2">
                            <button class="text-slate-400 hover:text-amber-500 text-sm flex items-center transition-colors" aria-label="Thích">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.633 10.5c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 012.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 00.322-1.672V3a.75.75 0 01.75-.75A2.25 2.25 0 0116.5 4.5c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 01-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 00-1.423-.23H5.904M14.25 9h2.25M5.904 18.75c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 01-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 10.203 4.167 9.75 5 9.75h1.053c.472 0 .745.556.5.96a8.958 8.958 0 00-1.302 4.665c0 1.194.232 2.333.654 3.375z" />
                                </svg>
                                50+
                            </button>
                            <button class="text-slate-400 hover:text-amber-500 text-sm flex items-center transition-colors" aria-label="Bình luận">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z" />
                                </svg>
                                15+
                            </button>
                        </div>
                        <div class="flex items-center text-xs text-amber-400">
                            <span class="bg-amber-100 rounded-full px-2 py-0.5 mr-1">#đoànkết</span>
                            <span class="bg-amber-100 rounded-full px-2 py-0.5">#thanhxuân</span>
                        </div>
                    </div>
                </div>
                </div>
        </section>

        <section id="class-members" class="bg-white/70 backdrop-blur-md p-6 sm:p-8 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300 card-highlight">
            <h2 class="text-3xl sm:text-4xl font-bold text-center mb-8 md:mb-12 text-slate-700 fancy-title">
                <span class="inline-block floating">💖</span> Thành Viên Lớp Mình
            </h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8">
                </div>
        </section>
    </main>

    <footer class="bg-slate-800 text-slate-300 py-8 mt-12 md:mt-16">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-sm">&copy; <span id="currentYear"></span> Made with ❤️ by Luonghii & DK60 Collective</p>
        </div>
    </footer>

    <button id="backToTopBtn" title="Về đầu trang"
            class="p-3 bg-purple-500 hover:bg-purple-600 text-white font-bold rounded-full shadow-lg hover:scale-105 transform transition-all duration-300">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up">
            <line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline>
        </svg>
    </button>

    <div id="searchModal" class="fixed inset-0 z-[9990] p-4 flex items-center justify-center hidden transition-opacity duration-300 ease-in-out opacity-0">
        <div id="searchModalOverlay" class="absolute inset-0"></div>
        <div id="searchModalContent" class="bg-white p-6 rounded-lg shadow-xl w-full max-w-lg relative transform transition-all duration-300 ease-in-out scale-95 opacity-0">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-semibold text-purple-700 fancy-title">Tìm kiếm thành viên</h3>
                <button id="closeSearchModal" aria-label="Đóng tìm kiếm" class="text-slate-400 hover:text-red-500">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <input type="text" id="searchInputField" placeholder="Nhập tên hoặc mô tả thành viên..." class="w-full p-3 border border-slate-300 rounded-md focus:ring-purple-500 focus:border-purple-500 mb-4 text-sm">
            <div id="modalSearchResults">
                 <p class="text-sm text-slate-600 text-center">Gõ để bắt đầu tìm kiếm trong danh sách thành viên.</p>
             </div>
        </div>
    </div>


    <script>
        // === Script chung cho hiệu ứng và tương tác ===
        document.addEventListener("DOMContentLoaded", function() {
            // Hiệu ứng loading overlay
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                setTimeout(() => {
                    loadingOverlay.style.opacity = '0';
                    setTimeout(() => {
                        loadingOverlay.style.display = 'none';
                    }, parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--animation-time').replace('s',''))*1000 * 0.9); // Match CSS transition duration
                }, 1500); // Thời gian hiển thị overlay
            }

            document.body.classList.add('fade-in'); // Thêm class fade-in để hiển thị body

            // Xử lý chuyển trang mượt mà khi click vào link nội bộ
            const internalLinks = document.querySelectorAll("nav a[href$='.html'], header a[href$='.html']");
            internalLinks.forEach(link => {
                link.addEventListener("click", function (e) {
                    const href = this.getAttribute("href");
                    // Kiểm tra nếu link là trang hiện tại hoặc là anchor link thì không làm gì
                    const currentPath = window.location.pathname.split('/').pop() || 'index.html';
                    const linkPath = (href || "").split('/').pop() || 'index.html';
                    if (linkPath === currentPath || href.startsWith('#')) return;

                    e.preventDefault(); // Ngăn hành vi mặc định của link
                    document.body.style.opacity = 0; // Làm mờ body
                    // Chuyển trang sau khi hiệu ứng mờ hoàn thành
                    setTimeout(() => {
                        window.location.href = href;
                    }, parseFloat(getComputedStyle(document.body).transitionDuration.replace('s',''))*1000 * 0.9);
                });
            });

            // Cập nhật năm hiện tại trong footer
            const currentYearEl = document.getElementById('currentYear');
            if (currentYearEl) {
                currentYearEl.textContent = new Date().getFullYear();
            }

            // Xử lý đóng mở mobile menu
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const mobileMenu = document.getElementById('mobileMenu');
            if (mobileMenuBtn && mobileMenu) {
                mobileMenuBtn.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }

            // Xử lý hiển thị/ẩn nút Back to Top
            const backToTopBtn = document.getElementById('backToTopBtn');
            if (backToTopBtn) {
                window.onscroll = function() {
                    if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                        backToTopBtn.classList.add('visible'); // Thêm class visible để hiển thị nút
                    } else {
                        backToTopBtn.classList.remove('visible'); // Xóa class visible để ẩn nút
                    }
                };
                // Cuộn về đầu trang khi click nút Back to Top
                backToTopBtn.addEventListener('click', () => {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
                // Kiểm tra vị trí scroll ban đầu khi load trang
                if (typeof window.onscroll === 'function') { window.onscroll(); }
            }

            // Hiệu ứng parallax nhẹ cho ảnh nền khi di chuột
            document.addEventListener("mousemove", function(e) {
                const x = (e.clientX / window.innerWidth - 0.5) * 10;
                const y = (e.clientY / window.innerHeight - 0.5) * 10;
                document.body.style.backgroundPosition = `calc(50% + ${-x}px) calc(50% + ${-y}px)`;
            });

            // Hiệu ứng đổi favicon liên tục
            const favicons = [
                'images/logo/logo1.png', 'images/logo/logo2.png', 'images/logo/logo3.png',
                'images/logo/logo4.png', 'images/logo/logo5.png'
            ];
            let currentFaviconIndex = 0;
            const dynamicFavicon = document.getElementById('dynamic-favicon');

            if (dynamicFavicon) {
                setInterval(() => {
                    dynamicFavicon.setAttribute('href', favicons[currentFaviconIndex]);
                    currentFaviconIndex = (currentFaviconIndex + 1) % favicons.length;
                }, 1000); // Đổi favicon mỗi 1 giây
            } else {
                console.warn("Không tìm thấy thẻ link favicon với id 'dynamic-favicon'.");
            }

            // Thanh tiến trình cuộn trang
            const progressBar = document.getElementById('progressBar');
            if (progressBar) {
                window.addEventListener('scroll', () => {
                    const scrollTotal = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                    const scrolled = (window.scrollY / scrollTotal) * 100;
                    progressBar.style.width = `${scrolled}%`;
                });
            }

            // Xử lý nút trái tim (like)
            const heartButtons = document.querySelectorAll('.heart-btn');
            heartButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    btn.classList.toggle('active'); // Thêm/bỏ class 'active' để đổi màu
                });
            });

            // Xử lý active state cho navigation links
            const navItems = document.querySelectorAll('.nav-item');
            const currentPage = window.location.pathname.split('/').pop() || 'index.html';
            navItems.forEach(item => {
                // Reset lại class mặc định
                item.classList.remove('active-nav-link');
                // Đảm bảo các class hover mặc định được thêm lại
                if (item.closest('#mobileMenu')) {
                     item.classList.add('text-slate-600', 'hover:text-purple-600', 'hover:bg-purple-50');
                     item.classList.remove('text-purple-600', 'font-semibold', 'bg-purple-50');
                } else {
                     item.classList.add('text-slate-600', 'hover:text-purple-600');
                     item.classList.remove('text-purple-600', 'font-semibold');
                }


                // Kiểm tra nếu href của link khớp với trang hiện tại
                const linkPath = (item.getAttribute('href') || "").split('/').pop() || 'index.html';
                if (linkPath === currentPage) {
                    // Áp dụng class active
                    if (item.closest('#mobileMenu')) {
                        // Mobile menu active style
                        item.classList.remove('text-slate-600', 'hover:text-purple-600', 'hover:bg-purple-50');
                        item.classList.add('text-purple-600', 'font-semibold', 'bg-purple-50');
                    } else {
                        // Desktop menu active style
                        item.classList.remove('text-slate-600', 'hover:text-purple-600');
                        item.classList.add('active-nav-link');
                    }
                }
            });


            // Xử lý chuyển tab kỷ niệm
            const memoryTabs = document.querySelectorAll('.memory-tab');
            const memoryCards = document.querySelectorAll('#memories .space-y-6 > div');

            memoryTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Bỏ active state của tất cả các tab
                    memoryTabs.forEach(t => {
                        t.classList.remove('bg-purple-100', 'text-purple-700', 'active');
                        t.classList.add('bg-white', 'text-slate-600');
                    });
                    // Thêm active state cho tab được click
                    tab.classList.add('bg-purple-100', 'text-purple-700', 'active');
                    tab.classList.remove('bg-white', 'text-slate-600');

                    const filter = tab.textContent.toLowerCase();
                    // Lọc và hiển thị/ẩn các memory card
                    memoryCards.forEach(card => {
                        if (filter === 'mọi kỷ niệm') {
                            card.style.display = 'block'; // Hiển thị tất cả
                        } else {
                            // Lấy tên người đăng kỷ niệm để lọc
                            const cardTitleElement = card.querySelector('span.font-medium');
                            if (cardTitleElement) {
                                const cardTitle = cardTitleElement.textContent.toLowerCase();
                                // Logic lọc dựa trên tên và tab
                                if ((cardTitle.includes('ánh') && filter.includes('lớp 10')) ||
                                    (cardTitle.includes('văn') && filter.includes('lớp 11')) ||
                                    (cardTitle.includes('tập thể') && filter.includes('lớp 12'))) {
                                    card.style.display = 'block';
                                } else {
                                     card.style.display = 'none'; // Ẩn nếu không khớp
                                }
                            } else {
                                 card.style.display = 'none'; // Ẩn nếu không tìm thấy tên người đăng
                            }
                        }
                    });
                });
            });


            // === START: Dữ liệu thành viên (Đã cập nhật với đường dẫn ảnh thật) ===
            const membersData = [
                { name: "Mai Thị Ngọc Ánh", initials: "MNA", color: "purple", description: "Dù vóc dáng nhỏ nhắn, Ngọc Ánh lại sở hữu một tư duy Toán học vô cùng xuất sắc. Bạn ấy còn là người cực kỳ vui tính, luôn là nguồn năng lượng tích cực và mang đến tiếng cười sảng khoái cho cả lớp.", src: "images/members/Ngọc Ánh.jpg" },
                { name: "Đàm Minh Châu", initials: "DMC", color: "pink", description: "Minh Châu là một cô bạn Bí thư siêu năng động và đầy trách nhiệm. Luôn là \"đầu tàu\" trong mọi phong trào, Châu rất hòa đồng, vui vẻ và nhận được sự yêu mến, tin tưởng tuyệt đối từ bạn bè.", src: "images/members/Minh châu.jpg" },
                { name: "Hoàng Thị Kim Dung", initials: "HTKD", color: "amber", description: "Kim Dung gây ấn tượng mạnh với tư duy nhạy bén, thể hiện rõ qua việc bạn ấy đã khởi nghiệp kinh doanh từ năm lớp 11. Thông minh và vui tính, Dung luôn góp phần làm không khí lớp thêm phần sôi động, náo nhiệt.", src: "images/members/Kim Dung.jpg" },
                { name: "Lê Thị Vân Anh", initials: "LTVA", color: "green", description: "Nhắc đến Vân Anh là nhắc đến sự vui vẻ. Chính nét tính cách cởi mở này đã giúp bạn ấy dễ dàng kết nối và tạo nên một bầu không khí thoải mái, thân thiện với tất cả mọi người xung quanh.", src: "images/members/Vân Anh.jpg" },
                { name: "Nguyễn Thị Trúc Anh", initials: "NTTA", color: "sky", description: "Trúc Anh không chỉ được biết đến với sự vui tính mà còn là một người có định hướng tương lai rất rõ ràng. Việc bạn ấy chủ động học tiếng Trung từ sớm để chuẩn bị cho hành trình du học là một điều rất đáng ngưỡng mộ.", src: "images/members/Trúc Anh.jpg" },
                { name: "Nguyễn Thị Nguyệt Ánh", initials: "NTNA", color: "indigo", description: "Nguyệt Ánh có vẻ ngoài hơi trầm tính, ít nói, nhưng điều đó không hề làm giảm đi sự yêu mến mà mọi người dành cho bạn. Chắc hẳn Nguyệt Ánh sở hữu một sức hút rất riêng, khiến ai cũng muốn được chia sẻ và ở bên cạnh.", src: "images/members/Nguyệt Ánh.jpg" },
                { name: "Ngô Thị Khánh Linh", initials: "NTKL", color: "rose", description: "Dù có dáng người nhỏ nhắn, Khánh Linh lại là một người rất hoạt ngôn. Sự hoạt bát, hay nói ấy lại chính là điểm đáng yêu, khiến mọi người xung quanh đều cảm thấy quý mến bạn.", src: "images/members/Khánh Linh.jpg" },
                { name: "Tạ Đức Dương", initials: "TDD", color: "teal", description: "Đức Dương có thể xem là một chàng trai \"hình mẫu\" với nhiều ưu điểm: ngoại hình sáng, học giỏi, và gia đình có điều kiện tốt. Ở bạn còn có một sự kết hợp thú vị giữa nét trầm tính và sự vui vẻ tùy hoàn cảnh, tạo nên một cá tính rất riêng biệt.", src: "images/members/Đức Dương.jpg" },
                { name: "Nguyễn Đức Cường", initials: "NDC", color: "cyan", description: "Một điều khá đặc biệt ở Cường là dù còn trẻ tuổi nhưng do chăm chỉ học tập, tóc bạn ấy đã điểm vài sợi bạc. Điều này thực sự cho thấy sự nỗ lực và đầu tư hết mình cho việc học của Cường.", src: "images/members/Đức Cường.jpg" },
                { name: "Nguyễn Trần Thục Hân", initials: "NTTH", color: "fuchsia", description: "Thục Hân tuy nhỏ nhắn nhưng lại chứa đựng một nguồn năng lượng vui vẻ dồi dào. Tính cách vui tính của bạn ấy luôn làm cho những cuộc trò chuyện hay hoạt động nhóm trở nên rộn ràng và thú vị hơn hẳn.", src: "images/members/Thục Hân.jpg" },
                { name: "Ngô Thị Thùy Dương", initials: "NTTD", color: "lime", description: "Sự chăm chỉ trong học tập và tài năng kinh doanh đáng nể của Thùy Dương luôn khiến người khác phải ngưỡng mộ. Sự kết hợp giữa đức tính cần cù và sự nhạy bén với kinh tế thực sự là một điểm mạnh lớn của bạn.", src: "images/members/Thuỳ Dương.jpg" },
                { name: "Đặng Hồng Hạnh", initials: "DHH", color: "orange", description: "Hồng Hạnh là một cô bạn cực kỳ cởi mở và hòa đồng. Khả năng bắt chuyện và kết nối với *tất cả* mọi người trong lớp của bạn cho thấy một sự tự tin và thân thiện đáng quý.", src: "images/members/Hồng Hạnh.jpg" },
                { name: "Nguyễn Thị Thúy Hường", initials: "NTTHu", color: "violet", description: "Thúy Hường đã có một sự thay đổi đáng ngưỡng mộ trong tính cách. Từ một cô bạn có phần rụt rè ban đầu, bạn ấy đã trở nên rất hòa đồng với mọi người khi lên lớp 12. Đó là cả một sự trưởng thành và nỗ lực đáng ghi nhận.", src: "images/members/Thuý Hường.jpg" },
                { name: "Trần Văn Hữu", initials: "TVH", color: "emerald", description: "Văn Hữu sở hữu một tài lẻ khá đặc biệt và thú vị, đó là khả năng đá bia rất giỏi. Đây chắc hẳn là một kỹ năng ấn tượng, thỉnh thoảng lại mang đến những giây phút giải trí bất ngờ cho cả nhóm bạn.", src: "images/members/Văn Hữu.jpg" },
                { name: "Nguyễn Thị Kim Anh", initials: "NTKA", color: "pink", description: "Kim Anh là một bạn có năng lực học tập rất tốt. Sự chăm chỉ và khả năng tiếp thu kiến thức tuyệt vời đã giúp bạn ấy luôn đạt được những kết quả cao trong học tập.", src: "images/members/Kim Anh.jpg" },
                { name: "Trần Hương Giang", initials: "THG", color: "purple", description: "Hương Giang luôn nổi bật với thành tích học tập xuất sắc. Việc bạn ấy học giỏi thực sự là nguồn động lực và là tấm gương sáng để các bạn khác trong lớp noi theo.", src: "images/members/Hương Giang.jpg" },
                { name: "Võ Trung Quân", initials: "VTQ", color: "blue", description: "Dù chiều cao có phần khiêm tốn, Trung Quân lại sở hữu năng khiếu thể thao đáng nể. Điều này cho thấy ở bạn sự dẻo dai, kỹ năng và một niềm đam mê lớn với các hoạt động thể chất.", src: "images/members/Trung Quân.jpg" },
                { name: "Hoàng Ngọc Bảo Châu", initials: "HNBC", color: "red", description: "Bảo Châu có điều kiện gia đình tốt, tính cách đôi lúc hơi \"cọc\" một xíu nhưng lại rất nhanh quên và đặc biệt là cực kỳ vui tính. Sự kết hợp giữa những nét tính cách có vẻ đối lập này lại tạo nên một con người rất thật và đáng yêu.", src: "images/members/Bảo Châu.jpg" },
                { name: "Hồ Nhật Anh", initials: "HNA", color: "yellow", description: "Nhật Anh là một cậu bạn có tính cách hay trêu đùa. Sự hài hước và những trò nghịch ngợm của bạn ấy chắc chắn đã mang lại rất nhiều tiếng cười và những khoảnh khắc giải trí khó quên cho lớp.", src: "images/members/Nhật Anh.jpg" },
                { name: "Hoàng Văn Thành Đạt", initials: "HVTD", color: "green", description: "Thành Đạt là một người bạn có vốn sống và kỹ năng rất đa dạng. Việc bạn ấy \"gì cũng biết làm\" cho thấy sự tò mò, ham học hỏi và khả năng thích nghi tuyệt vời với mọi thứ trong cuộc sống.", src: "images/members/Thành Đạt.jpg" },
                { name: "Trương Nguyễn Lệ Quyên", initials: "TNLQ", color: "indigo", description: "Lệ Quyên học rất giỏi môn Văn, sở hữu khả năng cảm thụ và diễn đạt ngôn từ đáng ngưỡng mộ. Bên cạnh đó, bạn ấy còn là một người vui tính, luôn mang lại không khí thoải mái mỗi khi trò chuyện.", src: "images/members/Lệ Quyên.jpg" },
                { name: "Ngô Đình Nguyên", initials: "NDN", color: "gray", description: "Đình Nguyên gây ấn tượng bởi sự chững chạc và trưởng thành. Nét tính cách này giúp bạn ấy có sự điềm đạm, chín chắn trong suy nghĩ và hành động, và có thể là một chỗ dựa tin cậy cho bạn bè.", src: "images/members/Đình Nguyên.jpg" },
                { name: "Đặng Trần Minh Thư", initials: "DTMT", color: "rose", description: "Minh Thư có năng khiếu nổi bật về tiếng Anh, học rất giỏi môn này. Kết hợp với sự vui tính, bạn ấy chắc hẳn là một người bạn dễ gần và thú vị để cùng học tập cũng như giải trí.", src: "images/members/Minh Thư.jpg" },
                { name: "Trương Thị Huyền Trang", initials: "TTHT", color: "fuchsia", description: "Huyền Trang được mệnh danh là \"người đẹp của lớp\", và không chỉ vậy, bạn ấy còn có thành tích học tập rất tốt. Sự kết hợp giữa ngoại hình sáng sủa và trí tuệ ở Trang là điều rất đáng ngưỡng mộ.", src: "images/members/Huyền Trang.jpg" },
                { name: "Đậu Thị Hoài Phương", initials: "DTHP", color: "amber", description: "Hoài Phương học giỏi môn Giáo dục kinh tế, điều đó cho thấy sự quan tâm và khả năng phân tích các vấn đề xã hội, kinh tế của bạn. Cùng với nét tính cách vui tính, bạn ấy luôn là một người bạn sôi nổi trong các buổi học.", src: "images/members/Hoài Phương.jpg" },
                { name: "Đặng Thị Hồng Phương", initials: "DTHPh", color: "lime", description: "Hồng Phương có vẻ không quá hòa đồng với cả lớp, thường chỉ chơi với một vài người bạn thân, nhưng bù lại bạn ấy có khả năng tự học rất cao. Điều này cho thấy Phương là một người có sự tập trung và chủ động đáng học hỏi.", src: "images/members/Hồng Phương.jpg" },
                { name: "Trần Yến Nhi", initials: "TYN", color: "violet", description: "Yến Nhi học giỏi Toán và có ước mơ rõ ràng về việc du học Đức, thể hiện qua việc bạn ấy đã học tiếng từ lớp 12. Sự kết hợp giữa năng lực học tập và mục tiêu phấn đấu của bạn là điều rất đáng khích lệ.", src: "images/members/Yến Nhi.jpg" },
                { name: "Nguyễn Xuân Đức Lương", initials: "NXDL", color: "emerald", description: "Là người tạo ra trang web này, yêu thích lập trình và luôn muốn lưu giữ những kỷ niệm đẹp của DK60. Có những người chỉ gặp 3 năm, nhưng nhớ đến cả đời.", src: "images/members/Đức Lương.jpg" },
                { name: "Trương Thị Phương Thảo", initials: "TTT", color: "cyan", description: "Ở Thảo có một sự đối lập khá thú vị: ngoài đời thì trầm tính nhưng trên mạng xã hội lại rất khác, cởi mở và sôi nổi hơn nhiều. Điều này cho thấy Thảo có những khía cạnh thú vị tùy vào môi trường giao tiếp.", src: "images/members/Phương Thảo.jpg" },
                { name: "Nguyễn Thị Mai", initials: "NTM", color: "sky", description: "Ban đầu, Mai là một người khá ít nói, nhưng khi lên lớp 12, bạn ấy đã có sự thay đổi lớn, nói chuyện và giao tiếp nhiều hơn. Sự tiến bộ này cho thấy Mai đã nỗ lực rất nhiều để hòa nhập và cởi mở hơn.", src: "images/members/Thị Mai.jpg" },
                { name: "Nguyễn Tố Uyên", initials: "NTU", color: "pink", description: "Tố Uyên là một cô bạn rất hay \"nói xàm\" và cực kỳ vui tính. Sự hài hước có phần \"tưng tửng\" của bạn ấy chắc chắn đã mang lại vô số tiếng cười và những khoảnh khắc giải trí khó quên cho lớp.", src: "images/members/Tố Uyên.jpg" },
                { name: "Nguyễn Thị Phương Trinh", initials: "NTPT", color: "purple", description: "Phương Trinh sở hữu những tài lẻ rất \"cool\" là trượt ván và vẽ siêu đẹp. Những kỹ năng này cho thấy sự năng động, sáng tạo và khả năng thể hiện bản thân tuyệt vời của bạn ấy.", src: "images/members/Phương Trinh.jpg" },
                { name: "Võ Thị Tú Quyên", initials: "VTTQ", color: "teal", description: "Tú Quyên có tính cách trầm tính nhưng lại cực kỳ xuất sắc trong môn Toán. Điều này chứng minh rằng sự im lặng không đồng nghĩa với việc thiếu năng lực, ngược lại, bạn ấy có một chiều sâu đáng nể trong tư duy logic.", src: "images/members/Tú Quyên.jpg" },
                { name: "Đặng Thái Bảo Trâm", initials: "DTBT", color: "blue", description: "Bảo Trâm là một cô bạn khá trầm tính. Nét tính cách này có thể khiến bạn ấy ít thể hiện ra bên ngoài, nhưng chắc hẳn bạn có một thế giới nội tâm rất phong phú.", src: "images/members/Bảo Trâm.jpg" },
                { name: "Hoàng Văn Hải", initials: "HVH", color: "red", description: "Hải là một sự kết hợp độc đáo: chơi game giỏi, học Toán cừ, vui tính nhưng đôi khi lại hơi \"cọc\". Sự đối lập này tạo nên một tính cách rất thật và đôi khi cũng khó đoán!", src: "images/members/Văn Hải.jpg" },
                { name: "Phùng Đoàn Đan Linh", initials: "PDDL", color: "yellow", description: "Đan Linh có lẽ vẫn chưa hoàn toàn hòa đồng với mọi người trong lớp, nhưng bù lại bạn ấy có khả năng học tiếng Anh rất tốt. Điều này cho thấy Linh có những sở trường riêng và có lẽ cần thêm chút thời gian để mở lòng hơn.", src: "images/members/Đan Linh.jpg" },
                { name: "Ngô Thị Hà Thương", initials: "NTHT", color: "green", description: "Hà Thương là một cô bạn rất năng động, đã đi làm thêm (trợ giảng) từ lớp 11. Dù hay bị các bạn trêu chọc, bạn ấy vẫn giữ được sự vui tính, cho thấy sự lạc quan và khả năng đối mặt với những lời trêu đùa một cách thoải mái.", src: "images/members/Hà Thương.jpg" },
                { name: "Hồ Lê Thái Uyên", initials: "HLTU", color: "fuchsia", description: "Thái Uyên là 1 cô nàng rất điệu. Có lẽ đến từ phong cách ăn mặc, ngoại hình hoặc sự sành điệu, hiện đại của bạn, làm nổi bật cá tính rất riêng trong lớp.", src: "images/members/Thái Uyên.jpg" },
                { name: "Nguyễn Việt Quang", initials: "NVQ", color: "orange", description: "Với Quang, ấn tượng đầu tiên và nổi bật nhất có lẽ đơn giản là \"đẹp trai\". Nét thu hút về ngoại hình này chắc hẳn là điều khiến nhiều bạn trong lớp chú ý và nhớ đến.", src: "images/members/Việt Quang.jpg" },
                { name: "Vũ Quốc Huy", initials: "VQH", color: "indigo", description: "Nhắc đến Huy, nhiều người sẽ nghĩ ngay đến vẻ ngoài \"trai đẹp\" và việc bạn ấy học rất giỏi. Mọi người còn hay trêu gọi Huy là \"boy Hàn Quốc\", có lẽ vì phong cách hoặc ngoại hình của bạn có nét gì đó giống các chàng trai xứ sở kim chi.", src: "images/members/Quốc Huy.jpg" }
            ];

            // Định nghĩa màu sắc cho từng theme (dùng cho placeholder nếu không có ảnh thật)
            const memberColors = {
                purple: { avatarBg: 'c4b5fd', avatarText: '6d28d9', border: 'border-purple-300', text: 'text-purple-700' },
                pink: { avatarBg: 'f9a8d4', avatarText: '9d174d', border: 'border-pink-300', text: 'text-pink-700' },
                amber: { avatarBg: 'fcd34d', avatarText: 'b45309', border: 'border-amber-300', text: 'text-amber-700' },
                green: { avatarBg: '86efac', avatarText: '15803d', border: 'border-green-300', text: 'text-green-700' },
                sky: { avatarBg: '7dd3fc', avatarText: '0369a1', border: 'border-sky-300', text: 'text-sky-700' },
                indigo: { avatarBg: 'a5b4fc', avatarText: '4338ca', border: 'border-indigo-300', text: 'text-indigo-700' },
                rose: { avatarBg: 'fda4af', avatarText: 'be123c', border: 'border-rose-300', text: 'text-rose-700' },
                teal: { avatarBg: '5eead4', avatarText: '0f766e', border: 'border-teal-300', text: 'text-teal-700' },
                cyan: { avatarBg: '67e8f9', avatarText: '0e7490', border: 'border-cyan-300', text: 'text-cyan-700' },
                fuchsia: { avatarBg: 'f0abfc', avatarText: 'a21caf', border: 'border-fuchsia-300', text: 'text-fuchsia-700' },
                lime: { avatarBg: 'a3e635', avatarText: '4d7c0f', border: 'border-lime-300', text: 'text-lime-700' },
                orange: { avatarBg: 'fdba74', avatarText: 'c2410c', border: 'border-orange-300', text: 'text-orange-700' },
                violet: { avatarBg: 'd8b4fe', avatarText: '7c3aed', border: 'border-violet-300', text: 'text-violet-700' },
                emerald: { avatarBg: '6ee7b7', avatarText: '047857', border: 'border-emerald-300', text: 'text-emerald-700' },
                blue: { avatarBg: '93c5fd', avatarText: '1d4ed8', border: 'border-blue-300', text: 'text-blue-700' },
                red: { avatarBg: 'fca5a5', avatarText: 'b91c1c', border: 'border-red-300', text: 'text-red-700' },
                yellow: { avatarBg: 'fde047', avatarText: 'a16207', border: 'border-yellow-300', text: 'text-yellow-700' },
                gray: { avatarBg: 'd1d5db', avatarText: '4b5563', border: 'border-gray-300', text: 'text-gray-700' }
            };

            const memberListContainer = document.querySelector('#class-members .grid');
            // Mảng để lưu trữ các thẻ thành viên gốc sau khi được tạo
            let originalMemberCards = [];

            // Kiểm tra xem container có tồn tại không
            if (memberListContainer) {
                memberListContainer.innerHTML = ''; // Xóa nội dung cũ nếu có

                // Duyệt qua mảng membersData và tạo thẻ HTML cho từng thành viên
                membersData.forEach(member => {
                    // Lấy theme màu dựa trên thuộc tính color của thành viên
                    const colorTheme = memberColors[member.color] || memberColors.purple;
                    // Quyết định URL ảnh: dùng ảnh thật (member.src) nếu có, ngược lại dùng placeholder
                    const imageUrl = member.src || `https://placehold.co/100x100/${colorTheme.avatarBg}/${colorTheme.avatarText}?text=${member.initials}`;

                    // Tạo thẻ div cho mỗi thành viên
                    const card = document.createElement('div');
                    // Gán ID duy nhất cho thẻ gốc (dùng cho chức năng tìm kiếm)
                    card.id = `member-${member.initials}`;
                    // Thêm các class Tailwind CSS cho style và hiệu ứng
                    card.className = `member-card bg-gradient-to-br from-${member.color}-50 via-stone-50 to-${member.color}-100 p-5 rounded-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 flex flex-col items-center text-center`;

                    // Chèn nội dung HTML vào thẻ card
                    card.innerHTML = `
                        <div class="member-img-container">
                            <img src="${imageUrl}" alt="Ảnh ${member.name}"
                                 class="w-24 h-24 rounded-full object-cover mb-2 border-2 ${colorTheme.border} shadow-md"
                                 onerror="this.src='https://placehold.co/100x100/cccccc/999999?text=Ảnh+Lỗi'; this.onerror=null;"> <div class="member-img-overlay"></div> </div>
                        <h3 class="text-lg font-semibold ${colorTheme.text} mb-1 mt-2">${member.name}</h3>
                        <p class="text-sm text-slate-600 leading-relaxed">${member.description}</p>
                    `;
                    // Thêm thẻ card vào container trên trang
                    memberListContainer.appendChild(card);
                    // Lưu trữ thẻ gốc vào mảng originalMemberCards
                    originalMemberCards.push(card);
                });
            } else {
                console.warn("Không tìm thấy container '#class-members .grid' để chèn danh sách thành viên.");
            }
            // === END: Code để hiển thị danh sách thành viên ===

            // === START: Chức năng Tìm kiếm và Chuyển đổi Giao diện ===
            // Lấy các phần tử cần thiết cho chức năng tìm kiếm và theme toggle
            const searchButton = document.getElementById('searchButton');
            const mobileSearchButton = document.getElementById('mobileSearchButton');
            const searchModal = document.getElementById('searchModal');
            const searchModalOverlay = document.getElementById('searchModalOverlay');
            const searchModalContent = document.getElementById('searchModalContent');
            const closeSearchModalButton = document.getElementById('closeSearchModal');
            const searchInputField = document.getElementById('searchInputField');
            const modalSearchResultsContainer = document.getElementById('modalSearchResults'); // Container kết quả trong modal

            const themeToggleButtons = document.querySelectorAll('.theme-toggle');

            // Hàm xử lý khi click vào kết quả tìm kiếm trong modal
            function handleSearchResultClick(event) {
                // Tìm thẻ cha có class 'member-card' (là thẻ kết quả được clone)
                const clickedCard = event.target.closest('.member-card');
                if (!clickedCard) return; // Nếu không phải click vào phần tử kết quả thì bỏ qua

                const targetMemberId = clickedCard.dataset.memberId; // Lấy ID thành viên từ data attribute

                if (targetMemberId) {
                    const targetElement = document.getElementById(targetMemberId); // Tìm thẻ gốc trên trang chính
                    if (targetElement) {
                        // Cuộn trang đến vị trí của thẻ gốc
                        targetElement.scrollIntoView({
                            behavior: 'smooth', // Cuộn mượt
                            block: 'center' // Căn giữa phần tử trên màn hình
                        });
                        // Đóng modal sau khi cuộn
                        closeSearchModal();
                    } else {
                        console.warn("Không tìm thấy phần tử gốc với ID:", targetMemberId);
                    }
                }
            }


            // Hàm lọc thành viên và hiển thị trong modal
            function filterMembers(searchTerm) {
                // Kiểm tra container kết quả tìm kiếm có tồn tại không
                if (!modalSearchResultsContainer) {
                    console.error("Không tìm thấy container kết quả tìm kiếm trong modal!");
                    return;
                }

                // Xóa kết quả cũ
                modalSearchResultsContainer.innerHTML = '';

                const lowerSearchTerm = searchTerm.toLowerCase().trim();
                let resultsFound = 0;

                // Nếu ô tìm kiếm trống, hiển thị thông báo mặc định
                if (lowerSearchTerm === '') {
                     modalSearchResultsContainer.innerHTML = '<p class="text-sm text-slate-600 text-center">Gõ để bắt đầu tìm kiếm trong danh sách thành viên.</p>';
                    return; // Dừng hàm
                }

                // Duyệt qua mảng các thẻ thành viên gốc
                originalMemberCards.forEach(card => {
                    // Lấy nội dung tên và mô tả từ thẻ gốc
                    const nameElement = card.querySelector('h3');
                    const descriptionElement = card.querySelector('p');
                    const name = nameElement ? nameElement.textContent.toLowerCase() : '';
                    const description = descriptionElement ? descriptionElement.textContent.toLowerCase() : '';

                    // Kiểm tra nếu tên hoặc mô tả chứa từ khóa tìm kiếm
                    if (name.includes(lowerSearchTerm) || description.includes(lowerSearchTerm)) {
                        // Nếu khớp, tạo bản sao của thẻ gốc
                        const cardClone = card.cloneNode(true); // Sao chép cả nội dung bên trong

                        // Gán data attribute chứa ID của thẻ gốc để sau này cuộn đến
                        cardClone.dataset.memberId = card.id;

                        // Chỉnh sửa class/style của bản sao để hiển thị phù hợp trong modal
                        cardClone.classList.remove('shadow-lg', 'hover:shadow-xl', 'transform', 'hover:-translate-y-1', 'transition-all', 'duration-300');
                        // Thêm class mới cho style trong modal search result
                        cardClone.classList.add('member-card-search-result'); // Sử dụng class đã định nghĩa trong style

                         // Loại bỏ các nút like/share trong bản sao nếu không cần thiết trong modal
                         const actionButtons = cardClone.querySelectorAll('.heart-btn, .p-2.text-gray-400.hover\\:text-purple-500');
                         actionButtons.forEach(btn => btn.remove());

                         // Thêm listener cho sự kiện click vào bản sao thẻ kết quả
                         cardClone.addEventListener('click', handleSearchResultClick);

                        // Thêm bản sao thẻ vào container kết quả trong modal
                        modalSearchResultsContainer.appendChild(cardClone);
                        resultsFound++; // Tăng số lượng kết quả tìm thấy
                    }
                });

                // Cập nhật thông báo nếu không tìm thấy kết quả
                if (resultsFound === 0) {
                     modalSearchResultsContainer.innerHTML = `<p class="text-sm text-red-500 text-center">Không tìm thấy thành viên nào cho "${searchTerm}".</p>`;
                }
            }


            // Mở Modal Tìm kiếm
            function openSearchModal() {
                if (searchModal && searchModalContent && searchInputField) {
                    searchModal.classList.remove('hidden'); // Bỏ class hidden
                    // Sử dụng requestAnimationFrame để đảm bảo class hidden đã được bỏ trước khi thêm class transition
                    requestAnimationFrame(() => {
                        searchModal.classList.remove('opacity-0');
                        searchModalContent.classList.remove('scale-95', 'opacity-0');
                        searchInputField.focus(); // Tự động focus vào ô input

                        // Khi mở modal, chạy lại filter với giá trị hiện tại của input (có thể rỗng)
                        filterMembers(searchInputField.value);
                    });
                }
            }

            // Đóng Modal Tìm kiếm
            function closeSearchModal() {
                if (searchModal && searchModalContent) {
                    searchModal.classList.add('opacity-0'); // Thêm class opacity-0 để mờ dần
                    searchModalContent.classList.add('scale-95', 'opacity-0'); // Thêm class scale-95 và opacity-0 để thu nhỏ và mờ dần nội dung
                    // Sử dụng setTimeout để ẩn modal sau khi transition hoàn thành
                    setTimeout(() => {
                        searchModal.classList.add('hidden'); // Thêm class hidden để ẩn hoàn toàn
                        // Tùy chọn: reset input và hiển thị lại thông báo mặc định khi đóng modal
                        searchInputField.value = '';
                        if(modalSearchResultsContainer){
                             modalSearchResultsContainer.innerHTML = '<p class="text-sm text-slate-600 text-center">Gõ để bắt đầu tìm kiếm trong danh sách thành viên.</p>';
                        }
                    }, 300); // Thời gian khớp với duration của transition
                }
            }

            // Gắn sự kiện click cho nút mở modal tìm kiếm
            if (searchButton) searchButton.addEventListener('click', openSearchModal);
            if (mobileSearchButton) mobileSearchButton.addEventListener('click', openSearchModal);
            // Gắn sự kiện click cho nút đóng modal
            if (closeSearchModalButton) closeSearchModalButton.addEventListener('click', closeSearchModal);
            // Gắn sự kiện click ra ngoài modal để đóng
            if (searchModalOverlay) searchModalOverlay.addEventListener('click', closeSearchModal);

            // Lắng nghe sự kiện input trên ô tìm kiếm để lọc kết quả
            if (searchInputField && modalSearchResultsContainer) {
                searchInputField.addEventListener('input', function() {
                    filterMembers(this.value); // Gọi hàm lọc khi input thay đổi
                });
            } else {
                 console.warn("Không tìm thấy input tìm kiếm hoặc container kết quả tìm kiếm trong modal để thêm listener.");
            }

            // Khi trang load xong, tạo các thẻ thành viên gốc và hiển thị thông báo mặc định trong modal
            // Code tạo thẻ gốc đã ở trên, nó sẽ chạy khi DOMContentLoaded
            // Hiển thị thông báo mặc định trong modal khi load trang (sau khi các thẻ gốc đã được tạo)
            // Tớ dùng setTimeout nhỏ để đảm bảo mảng originalMemberCards đã được populate
             setTimeout(() => {
                 if(modalSearchResultsContainer){
                     modalSearchResultsContainer.innerHTML = '<p class="text-sm text-slate-600 text-center">Gõ để bắt đầu tìm kiếm trong danh sách thành viên.</p>';
                 }
             }, 50);


            // Chuyển đổi Giao diện Sáng/Tối
            function applyTheme(theme) {
                if (theme === 'dark') {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            }

            themeToggleButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const isDarkMode = document.documentElement.classList.toggle('dark');
                    localStorage.setItem('theme', isDarkMode ? 'dark' : 'light'); // Lưu trạng thái vào Local Storage
                    applyTheme(isDarkMode ? 'dark' : 'light'); // Áp dụng theme ngay lập tức
                });
            });

            // Kiểm tra theme đã lưu khi tải trang và áp dụng
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                applyTheme(savedTheme);
            } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                // Nếu không có theme đã lưu, kiểm tra preference của hệ thống và áp dụng dark mode nếu hệ thống đang ở dark mode
                applyTheme('dark');
            }
            // === END: Chức năng Tìm kiếm và Chuyển đổi Giao diện ===
        });
    </script>
</body>
</html>
